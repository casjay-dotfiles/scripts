.TH DISPLAYSELECT "1" "December 2025" "displayselect 202208051237-git" "User Commands"
.SH NAME
displayselect \- Interactive UI for detecting and selecting X11 display configurations
.SH SYNOPSIS
.B displayselect
[\fI\,OPTIONS\/\fR]
.SH DESCRIPTION
.B displayselect
is an interactive display configuration tool for X11 systems that provides a user-friendly menu interface for detecting connected displays and selecting display arrangements. It uses dmenu or rofi to present available displays and configuration options, making multi-monitor setup quick and intuitive.
.PP
The script automatically detects all connected displays using xrandr, provides options for single display, dual display (with mirroring or extended), and multi-monitor configurations. It handles display scaling, positioning, and resolution selection with intelligent defaults.
.PP
displayselect simplifies the complexity of xrandr commands by providing a visual menu-driven interface for common display configuration tasks, making it accessible to users who find xrandr's command-line syntax challenging.
.SH OPTIONS
.TP
.BR \-\-help
Display help message with usage information and available options
.TP
.BR \-\-config
Generate or regenerate user configuration file with default settings
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options
.TP
.BR \-\-debug
Enable debug mode with verbose output and command tracing (set -x)
.TP
.BR \-\-raw
Disable colorized output for plain text display
.TP
.BR \-\-silent
Suppress non-essential output messages and notifications
.SH USAGE
When executed without arguments, displayselect opens an interactive menu showing:
.RS
.IP \(bu 2
All connected displays (detected via xrandr)
.IP \(bu 2
Multi-monitor configuration option
.IP \(bu 2
Manual selection via arandr (if installed)
.IP \(bu 2
Cancel option
.RE
.PP
Select a display configuration from the menu to apply it immediately.
.SH DISPLAY CONFIGURATION MODES
.SS Single Display Mode
When a single display is selected:
.RS
.IP \(bu 2
Activates the selected display with native resolution
.IP \(bu 2
Applies 1:1 scaling (no upscaling or downscaling)
.IP \(bu 2
Automatically disables all other connected displays
.IP \(bu 2
Ideal for laptop users switching between internal/external display
.RE
.SS Dual Display Mode (Two Monitors)
When multi-monitor is selected with two displays:
.PP
.B Mirror Mode:
.RS
.IP \(bu 2
Displays same content on both monitors
.IP \(bu 2
Prompts to select which display to optimize resolution for
.IP \(bu 2
Automatically calculates scaling factors for the other display
.IP \(bu 2
Ensures content fits both displays properly
.IP \(bu 2
Uses bc (calculator) for precise scaling calculations
.RE
.PP
.B Extended Mode:
.RS
.IP \(bu 2
Extends desktop across two displays
.IP \(bu 2
Prompts to select primary display
.IP \(bu 2
Prompts to choose positioning (left or right of primary)
.IP \(bu 2
Both displays use native resolution with 1:1 scaling
.IP \(bu 2
Ideal for productivity with separate workspaces
.RE
.SS Multi-Monitor Mode (Three or More Displays)
When multi-monitor is selected with three or more displays:
.RS
.IP \(bu 2
Prompts to select primary display
.IP \(bu 2
Prompts to select secondary display and its position
.IP \(bu 2
Prompts to select tertiary display and its position
.IP \(bu 2
Tertiary display positioned opposite to secondary
.IP \(bu 2
All displays use native resolution
.IP \(bu 2
Supports complex multi-monitor setups
.RE
.SS Manual Configuration
When "manual selection" is chosen:
.RS
.IP \(bu 2
Launches arandr GUI tool (if installed)
.IP \(bu 2
Provides visual drag-and-drop display arrangement
.IP \(bu 2
Allows fine-tuning of resolution, refresh rate, rotation
.IP \(bu 2
Fallback for complex configurations not covered by presets
.RE
.SH EXAMPLES
.TP
.B displayselect
Launch interactive display selection menu
.TP
.B displayselect --help
Show help message with usage information
.TP
.B displayselect --debug
Run in debug mode to troubleshoot display configuration issues
.SH FILES
.TP
.B ~/.config/myscripts/displayselect/settings.conf
User configuration file for displayselect preferences
.TP
.B ~/.config/myscripts/displayselect/backups/
Configuration backup directory
.TP
.B ~/.local/log/displayselect/
Log file directory for error tracking
.TP
.B ~/.local/tmp/system_scripts/displayselect/
Temporary files directory
.TP
.B ~/.cache/displayselect/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B DISPLAYSELECT_CONFIG_DIR
Override default configuration directory (~/.config/myscripts/displayselect/)
.TP
.B DISPLAYSELECT_OUTPUT_COLOR_1
Primary output color code for terminal display (default: 33 for yellow)
.TP
.B DISPLAYSELECT_OUTPUT_COLOR_2
Secondary output color code (default: 5 for magenta)
.TP
.B DISPLAYSELECT_OUTPUT_COLOR_GOOD
Success message color code (default: 2 for green)
.TP
.B DISPLAYSELECT_OUTPUT_COLOR_ERROR
Error message color code (default: 1 for red)
.TP
.B DISPLAYSELECT_NOTIFY_ENABLED
Enable/disable desktop notifications (default: yes)
.TP
.B DISPLAYSELECT_NOTIFY_CLIENT_NAME
Customize notification client name displayed in desktop notifications
.TP
.B DISPLAYSELECT_NOTIFY_CLIENT_ICON
Customize notification icon (default: notification-new)
.TP
.B DISPLAYSELECT_NOTIFY_CLIENT_URGENCY
Notification urgency level: low, normal, critical (default: normal)
.TP
.B ROFI_THEME
Custom rofi theme for menu display (default: purple)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/displayselect/settings.conf supports the following settings:
.PP
.RS 4
.EX
DISPLAYSELECT_OUTPUT_COLOR_1="33"
DISPLAYSELECT_OUTPUT_COLOR_2="5"
DISPLAYSELECT_OUTPUT_COLOR_GOOD="2"
DISPLAYSELECT_OUTPUT_COLOR_ERROR="1"
DISPLAYSELECT_NOTIFY_ENABLED="yes"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - display configuration applied
.TP
.B 1
General error or user cancelled operation
.TP
.B 3
Required command not found (xrandr, dmenu/rofi)
.SH MENU INTERFACE
displayselect uses either rofi or dmenu for the interactive menu interface:
.PP
.B Menu Tool Priority:
.RS
.IP 1. 3
rofi (preferred) - Modern menu with theme support, icons, fuzzy search
.IP 2. 3
dmenu - Lightweight, fast, minimal interface
.RE
.PP
The menu will automatically use whichever tool is available, preferring rofi for enhanced features. If neither is installed, the script will fail with an error.
.PP
.B Menu Navigation:
.RS
.IP \(bu 2
Use arrow keys or type to filter options
.IP \(bu 2
Press Enter to select highlighted option
.IP \(bu 2
Press Escape to cancel operation
.IP \(bu 2
rofi supports fuzzy search for quick filtering
.RE
.SH XRANDR INTEGRATION
displayselect simplifies xrandr commands by generating them based on menu selections:
.PP
.B Single Display:
.RS
.EX
xrandr --output HDMI-1 --auto --scale 1.0x1.0 \\
       --output eDP-1 --off
.EE
.RE
.PP
.B Extended Desktop (Two Monitors):
.RS
.EX
xrandr --output HDMI-1 --auto --scale 1.0x1.0 \\
       --output eDP-1 --right-of HDMI-1 \\
       --auto --scale 1.0x1.0
.EE
.RE
.PP
.B Mirrored Displays:
.RS
.EX
xrandr --output HDMI-1 --auto --scale 1.0x1.0 \\
       --output eDP-1 --auto --same-as HDMI-1 \\
       --scale 1.33x1.33
.EE
(Scaling calculated automatically based on display resolutions)
.RE
.PP
.B Three Monitor Setup:
.RS
.EX
xrandr --output DP-1 --auto \\
       --output HDMI-1 --left-of DP-1 --auto \\
       --output eDP-1 --right-of DP-1 --auto
.EE
.RE
.SH DISPLAY SCALING
For mirrored displays with different resolutions:
.PP
.B Scaling Calculation:
.RS
.IP 1. 3
Detect native resolution of both displays
.IP 2. 3
Calculate X-axis scale: external_width / internal_width
.IP 3. 3
Calculate Y-axis scale: external_height / internal_height
.IP 4. 3
Apply scaling to match external display resolution
.RE
.PP
Example: Mirroring 1920x1080 external on 1440x900 laptop:
.RS
.IP \(bu 2
Scale X: 1920 / 1440 = 1.333
.IP \(bu 2
Scale Y: 1080 / 900 = 1.200
.IP \(bu 2
Result: --scale 1.333x1.200 on laptop display
.RE
.PP
Requires bc (calculator) for precise floating-point calculations.
.SH COMMON USE CASES
.SS Laptop with External Monitor
.PP
.B Presentations:
.RS
.IP 1. 3
Run displayselect
.IP 2. 3
Select "multi-monitor"
.IP 3. 3
Choose "yes" for mirroring
.IP 4. 3
Select external monitor to optimize for
.IP 5. 3
Laptop screen mirrors projector/TV
.RE
.PP
.B Extended Desktop:
.RS
.IP 1. 3
Run displayselect
.IP 2. 3
Select "multi-monitor"
.IP 3. 3
Choose "no" for mirroring
.IP 4. 3
Select laptop as primary
.IP 5. 3
Choose external monitor position (left/right)
.IP 6. 3
Enjoy expanded workspace
.RE
.SS Docked Laptop (Disable Laptop Screen)
.RS
.IP 1. 3
Run displayselect
.IP 2. 3
Select external monitor from list
.IP 3. 3
Laptop display automatically disabled
.IP 4. 3
External monitor uses native resolution
.RE
.SS Triple Monitor Workstation
.RS
.IP 1. 3
Run displayselect
.IP 2. 3
Select "multi-monitor"
.IP 3. 3
Choose center monitor as primary
.IP 4. 3
Select left monitor and position it left
.IP 5. 3
Select right monitor (auto-positioned right)
.IP 6. 3
Enjoy panoramic desktop
.RE
.SH NOTES
.IP \(bu 2
Requires X11 window system (not compatible with Wayland)
.IP \(bu 2
xrandr must be available and functional
.IP \(bu 2
Either rofi or dmenu required for menu interface
.IP \(bu 2
bc (calculator) required for display scaling calculations
.IP \(bu 2
arandr recommended for manual configuration option
.IP \(bu 2
All displays configured with native resolution by default
.IP \(bu 2
Scaling only applied in mirror mode to match resolutions
.IP \(bu 2
Changes applied immediately without confirmation
.IP \(bu 2
No persistent configuration (settings not saved across reboots)
.IP \(bu 2
Use xrandr scripts or desktop environment settings for persistence
.SH TROUBLESHOOTING
.SS Display Not Detected
.RS
.IP \(bu 2
Check physical cable connection
.IP \(bu 2
Run `xrandr -q` to verify display detection
.IP \(bu 2
Try different cable or port
.IP \(bu 2
Update graphics drivers
.RE
.SS Scaling Issues
.RS
.IP \(bu 2
Ensure bc package is installed
.IP \(bu 2
Check display resolutions with `xrandr -q`
.IP \(bu 2
Try manual mode with arandr for fine-tuning
.IP \(bu 2
Some displays may not support all scaling factors
.RE
.SS Menu Not Appearing
.RS
.IP \(bu 2
Install rofi: `sudo apt install rofi` or `sudo pacman -S rofi`
.IP \(bu 2
Install dmenu: `sudo apt install dmenu` or `sudo pacman -S dmenu`
.IP \(bu 2
Check if running in X11 session (not Wayland)
.IP \(bu 2
Verify DISPLAY environment variable is set
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
xrandr - X11 display configuration tool (x11-xserver-utils)
.IP \(bu 2
rofi OR dmenu - Menu interface (at least one required)
.IP \(bu 2
bc - Calculator for scaling calculations
.IP \(bu 2
grep, sed, awk - Text processing utilities
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
arandr - Visual display configuration tool (for manual mode)
.IP \(bu 2
rofi - Preferred menu interface with theme support
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR xrandr (1),
.BR rofi (1),
.BR dmenu (1),
.BR arandr (1),
.BR bc (1)
.PP
Related tools:
.br
autorandr: https://github.com/phillipberndt/autorandr
.br
xrandr documentation: https://www.x.org/wiki/Projects/XRandR/
