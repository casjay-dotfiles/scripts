.\" Manpage for earthquakes
.TH man 1 "14 October 2025" "202208062115-git" "earthquakes"

.SH NAME
earthquakes \- Get real-time earthquake information from the USGS Earthquake Hazards Program

.SH DESCRIPTION
A command-line tool for retrieving and displaying earthquake data from the United States Geological Survey (USGS) Earthquake Hazards Program. Displays earthquake information including magnitude, location, time, tsunami alerts, and detailed URLs. Supports filtering by time period (hour, day, week, month) and magnitude level, with optional GUI display using YAD or Zenity.

.SH SYNOPSIS
earthquakes [options] [timeperiod] [magnitude] [search] [query]

.SH TIME PERIOD COMMANDS
.TP
.B hour [magnitude] [search query]
Show earthquakes from the past hour
.TP
.B day [magnitude] [search query]
Show earthquakes from the past day (default)
.TP
.B week [magnitude] [search query]
Show earthquakes from the past week
.TP
.B month [magnitude] [search query]
Show earthquakes from the past month

.SH MAGNITUDE FILTER OPTIONS
.TP
.B major
Show only significant earthquakes (major events)
.TP
.B 4
Show earthquakes of magnitude 4.5 and above
.TP
.B 2
Show earthquakes of magnitude 2.5 and above
.TP
.B 1
Show earthquakes of magnitude 1.0 and above
.TP
.B minor
Show earthquakes of magnitude 1.0 and above (alias for 1)
.TP
.B all
Show all earthquakes regardless of magnitude (default)

.SH SEARCH FUNCTIONALITY
.TP
.B search <query> [refineQuery]
Search earthquake data for specific location or criteria

.SH OPTIONS
.TP
.B \-\-help
Display comprehensive help message
.TP
.B \-\-version
Display current version
.TP
.B \-\-config
Generate user configuration file
.TP
.B \-\-options
Show all available options
.TP
.B \-\-debug
Enable debugging output
.TP
.B \-\-raw
Remove all formatting from output
.TP
.B \-\-silent
Suppress output messages

.SH EXAMPLES
.TP
.B earthquakes
Show all earthquakes from the past day
.TP
.B earthquakes hour
Show all earthquakes from the past hour
.TP
.B earthquakes day major
Show major earthquakes from the past day
.TP
.B earthquakes week 4
Show magnitude 4.5+ earthquakes from the past week
.TP
.B earthquakes month 2
Show magnitude 2.5+ earthquakes from the past month
.TP
.B earthquakes day search California
Search for earthquakes in California from the past day
.TP
.B earthquakes week major search Japan
Search for major earthquakes in Japan from the past week

.SH DATA FIELDS
Each earthquake entry displays:
.TP
.B Place
Geographic location description
.TP
.B Time
When the earthquake occurred (UTC)
.TP
.B Updated
When the data was last updated (UTC)
.TP
.B Magnitude
Earthquake magnitude on the Richter scale
.TP
.B Alert
Alert level (none, green, yellow, orange, red)
.TP
.B Tsunami
Whether a tsunami warning was issued (yes/no)
.TP
.B URL
Link to detailed USGS earthquake information page

.SH DISPLAY MODES
.TP
.B GUI Mode (default with X11)
Uses YAD or Zenity to display earthquake data in a graphical window
.TP
.B Console Mode
Falls back to terminal output if no display is available or in SSH sessions
.TP
.B Console-Only Mode
Set CONSOLE_APP=true to force terminal output

.SH CONFIGURATION
.TP
.B Config File Location
~/.config/myscripts/earthquakes/settings.conf
.TP
.B GUI Window Size
EARTHQUAKES_YAD_WIDTH (default: 900)
EARTHQUAKES_YAD_HEIGHT (default: 600)
.TP
.B API URL
EARTHQUAKES_API_URL (default: https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary)
.TP
.B Output Colors
EARTHQUAKES_OUTPUT_COLOR_1 (default: 33)
EARTHQUAKES_OUTPUT_COLOR_2 (default: 5)

.SH FILES
.TP
.I ~/.config/myscripts/earthquakes/settings.conf
User configuration file
.TP
.I ~/.local/log/earthquakes/
Log directory
.TP
.I ~/.local/tmp/system_scripts/earthquakes/
Temporary files directory
.TP
.I ~/.cache/earthquakes/
Cache directory

.SH ENVIRONMENT VARIABLES
.TP
.B EARTHQUAKES_YAD_WIDTH
Width of GUI display window (default: 900)
.TP
.B EARTHQUAKES_YAD_HEIGHT
Height of GUI display window (default: 600)
.TP
.B EARTHQUAKES_API_URL
USGS API endpoint URL
.TP
.B EARTHQUAKES_NOTIFY_ENABLED
Enable desktop notifications (yes/no)
.TP
.B CONSOLE_APP
Force console-only mode when set to "true"

.SH DATA SOURCE
Earthquake data is provided by the United States Geological Survey (USGS) Earthquake Hazards Program through their public GeoJSON feed API. Data is updated in near real-time as earthquakes are detected and analyzed by the USGS monitoring network.

.SH REQUIREMENTS
.TP
.B curl
Required for fetching earthquake data from USGS API
.TP
.B jq
Required for parsing JSON earthquake data
.TP
.B yad or zenity (optional)
Required for graphical display mode
.TP
.B Internet Access
Required to access USGS earthquake data feeds

.SH NOTES
The earthquakes tool provides convenient access to USGS earthquake data with flexible filtering by time period and magnitude. It automatically formats timestamps, converts tsunami flags to human-readable values, and presents data in an easy-to-read format.

For graphical environments, earthquake data is displayed in a scrollable window. For console or SSH sessions, data is displayed with colored terminal output.

All times are displayed in UTC. The USGS updates earthquake data continuously, so recent events may have preliminary magnitudes that are refined over time.

.SH LICENSE
WTFPL

.SH BUGS
No known bugs.

.SH REPORTING BUGS
https://github.com/casjay-dotfiles/scripts/issues

.SH AUTHOR
Currently maintained by Jason Hempstead <jason@casjaysdev.pro>
