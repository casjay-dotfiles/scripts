.TH EX "1" "December 2025" "ex 202208062115-git" "User Commands"
.SH NAME
ex \- Universal archive extractor supporting 14 archive formats
.SH SYNOPSIS
.B ex
[\fI\,FILE\fR]... [\fI\,OPTIONS\fR]
.SH DESCRIPTION
.B ex
is a universal archive extraction utility that automatically detects archive format by file extension and uses the appropriate extraction tool. It provides a single, consistent interface for extracting compressed archives regardless of format, eliminating the need to remember specific extraction commands for different archive types.
.PP
The script supports 14 common archive formats including tar-based archives (tar.bz2, tar.gz, tbz2, tgz), standalone compression formats (bz2, gz, xz, Z), container formats (zip, rar, 7z, iso), and plain tar archives. Format detection is automatic based on file extension, and the script verifies that required extraction tools are installed before attempting extraction.
.PP
ex simplifies archive extraction by providing intelligent error handling, clear success/failure messages, and automatic directory creation when needed. It's particularly useful in scripts, automated workflows, and for users who work with multiple archive formats regularly.
.SH COMMANDS
.TP
.B ex <file>
Extract the specified archive file using automatic format detection
.TP
.B ex <file1> <file2> ...
Extract multiple archive files sequentially
.TP
.B ex --dir <directory>
Change to specified directory before extraction (extracts to that location)
.SH OPTIONS
.TP
.BR \-\-help
Display help message with usage information and supported formats
.TP
.BR \-\-config
Generate or regenerate user configuration file
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options
.TP
.BR \-\-dir " " \fI\,DIRECTORY\fR
Change to DIRECTORY before extraction (extracts archives to specified location)
.TP
.BR \-\-debug
Enable debug mode with verbose output showing extraction commands
.TP
.BR \-\-raw
Disable colorized output for plain text display
.TP
.BR \-\-silent
Suppress non-essential output messages
.SH SUPPORTED FORMATS
ex automatically detects and extracts the following archive formats:
.SS Tar-Based Archives
.RS
.IP \\(bu 2
.tar.bz2 - Bzip2-compressed tar archive
.IP \\(bu 2
.tar.gz - Gzip-compressed tar archive
.IP \\(bu 2
.tbz2 - Bzip2-compressed tar (alternate extension)
.IP \\(bu 2
.tgz - Gzip-compressed tar (alternate extension)
.IP \\(bu 2
.tar - Uncompressed tar archive
.RE
.SS Standalone Compression
.RS
.IP \\(bu 2
.bz2 - Bzip2 compressed file
.IP \\(bu 2
.gz - Gzip compressed file
.IP \\(bu 2
.xz - XZ compressed file
.IP \\(bu 2
.Z - Unix compress format
.RE
.SS Container Formats
.RS
.IP \\(bu 2
.zip - ZIP archive
.IP \\(bu 2
.rar - RAR archive
.IP \\(bu 2
.7z - 7-Zip archive
.IP \\(bu 2
.iso - ISO 9660 CD/DVD image
.RE
.SH EXTRACTION TOOLS
Required extraction tools for each format:
.TP
.B tar
Used for: .tar.bz2, .tar.gz, .tbz2, .tgz, .tar
.br
Extraction: tar xjf (bzip2), tar xzf (gzip), tar xf (plain)
.TP
.B bunzip2
Used for: .bz2
.br
Extraction: bunzip2 <file>
.TP
.B gunzip
Used for: .gz
.br
Extraction: gunzip <file>
.TP
.B unzip
Used for: .zip
.br
Extraction: unzip <file>
.TP
.B unrar
Used for: .rar
.br
Extraction: unrar x <file>
.TP
.B uncompress
Used for: .Z
.br
Extraction: uncompress <file>
.TP
.B 7z
Used for: .7z, .iso
.br
Extraction: 7z x <file>
.TP
.B unxz
Used for: .xz
.br
Extraction: unxz <file>
.SH USAGE
.B ex
.PP
Extract archive.tar.gz to current directory.
.PP
.B ex archive.tar.gz
.PP
Extract multiple archives sequentially.
.PP
.B ex file1.zip file2.tar.bz2 file3.7z
.PP
Extract archive to specific directory.
.PP
.B ex --dir /tmp/extracted archive.tar.gz
.PP
Extract with debug output showing extraction commands.
.PP
.B ex --debug archive.zip
.SH EXTRACTION BEHAVIOR
.SS Automatic Format Detection
.RS
ex identifies archive format by file extension:
.EX
archive.tar.gz  → tar xzf (gzip + tar)
archive.zip     → unzip
archive.7z      → 7z x
archive.iso     → 7z x
.EE
.RE
.SS Extraction Location
.RS
.IP \\(bu 2
Default: Extracts to current working directory
.IP \\(bu 2
With --dir: Changes to specified directory first
.IP \\(bu 2
Preserves archive directory structure
.IP \\(bu 2
Creates directories as needed during extraction
.RE
.SS Error Handling
.RS
.IP \\(bu 2
Verifies file exists before extraction attempt
.IP \\(bu 2
Checks if required extraction tool is installed
.IP \\(bu 2
Reports clear error if tool is missing
.IP \\(bu 2
Shows success message after successful extraction
.IP \\(bu 2
Displays error message if extraction fails
.RE
.SH EXAMPLES
.TP
.B ex backup.tar.gz
Extract gzip-compressed tar archive to current directory
.TP
.B ex document.zip
Extract ZIP archive to current directory
.TP
.B ex software.tar.bz2
Extract bzip2-compressed tar archive
.TP
.B ex cd-image.iso
Extract ISO image using 7z
.TP
.B ex data.rar
Extract RAR archive (requires unrar)
.TP
.B ex --dir /tmp files.7z
Extract 7z archive to /tmp directory
.TP
.B ex file1.tar.gz file2.zip file3.tar.bz2
Extract multiple archives sequentially
.TP
.B ex --debug mysterious-archive.tar.xz
Extract with verbose debugging output
.TP
.B ex compressed.xz
Decompress XZ file
.TP
.B ex old-format.Z
Decompress Unix compress format
.SH FILES
.TP
.B ~/.config/myscripts/ex/settings.conf
User configuration file for ex preferences
.TP
.B ~/.local/share/myscripts/ex/backups/
Configuration backup directory
.TP
.B ~/.local/log/ex/
Log file directory
.TP
.B ~/.local/tmp/system_scripts/ex/
Temporary files directory
.TP
.B ~/.cache/ex/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B EX_EXTRACT_DIR
Default directory for extraction (overridden by --dir)
.TP
.B EX_SILENT
Suppress output messages when set to "true"
.TP
.B EX_OUTPUT_COLOR_1
Primary output color code (default: 33 for yellow)
.TP
.B EX_OUTPUT_COLOR_2
Secondary output color code (default: 5 for magenta)
.TP
.B EX_NOTIFY_ENABLED
Enable/disable desktop notifications (default: yes)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/ex/settings.conf supports the following settings:
.PP
.RS 4
.EX
# Default extraction directory
EX_EXTRACT_DIR="/path/to/default/location"

# Notification settings
EX_NOTIFY_ENABLED="yes"

# Output colorization
EX_OUTPUT_COLOR_1="33"
EX_OUTPUT_COLOR_2="5"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - archive extracted successfully
.TP
.B 1
Error - file not found, unsupported format, or extraction failed
.SH FORMAT DETAILS
.SS Tar Archives
.RS
Tar (Tape Archive) is a container format that bundles multiple files/directories. Often combined with compression:
.IP \\(bu 2
.tar.gz/.tgz: Gzip compression (good balance of speed and size)
.IP \\(bu 2
.tar.bz2/.tbz2: Bzip2 compression (better compression, slower)
.IP \\(bu 2
.tar.xz: XZ compression (best compression, slowest)
.IP \\(bu 2
.tar: No compression (fastest, largest)
.RE
.SS ZIP Format
.RS
ZIP is a widely-used format with built-in compression and directory structure support. Compatible across Windows, macOS, and Linux. Includes file metadata and supports password protection.
.RE
.SS RAR Format
.RS
RAR provides excellent compression ratios with recovery record support. Proprietary format requiring unrar tool (often non-free). Common in Windows environments.
.RE
.SS 7-Zip Format
.RS
7z offers very high compression ratios with open-source tools. Supports AES-256 encryption and solid compression. Can also extract ISO images.
.RE
.SS ISO Images
.RS
ISO 9660 format for CD/DVD images. ex uses 7z to extract file contents from ISO without mounting. Useful for accessing installation media files.
.RE
.SH NOTES
.IP \\(bu 2
Format detection is case-insensitive (.ZIP same as .zip)
.IP \\(bu 2
Extraction preserves file permissions and timestamps
.IP \\(bu 2
Some formats (zip, rar, 7z) may contain password-protected archives
.IP \\(bu 2
Large archives may take significant time to extract
.IP \\(bu 2
Ensure sufficient disk space before extracting
.IP \\(bu 2
Nested archives (archive within archive) require multiple extraction steps
.IP \\(bu 2
Symlinks preserved when tar format supports it
.SH TIPS
.SS Installing Missing Tools
.RS
.EX
# Debian/Ubuntu
sudo apt install tar gzip bzip2 xz-utils unzip unrar p7zip-full

# RHEL/Fedora/CentOS
sudo dnf install tar gzip bzip2 xz unzip unrar p7zip

# Arch Linux
sudo pacman -S tar gzip bzip2 xz unzip unrar p7zip

# macOS (Homebrew)
brew install gnu-tar gzip bzip2 xz unzip unrar p7zip
.EE
.RE
.SS Batch Extraction
.RS
.EX
# Extract all archives in directory
for file in *.tar.gz; do ex "$file"; done

# Extract to organized subdirectories
mkdir -p extracted
ex --dir extracted *.zip

# Extract with logging
ex archive.tar.gz 2>&1 | tee extraction.log
.EE
.RE
.SS Automation
.RS
.EX
# Script to auto-extract downloads
#!/bin/bash
watch_dir="$HOME/Downloads"
for archive in "$watch_dir"/*.{zip,tar.gz,tar.bz2}; do
  [ -f "$archive" ] && ex "$archive"
done

# Cron job for automated extraction
*/15 * * * * ex "$HOME/incoming/"*.tar.gz
.EE
.RE
.SH TROUBLESHOOTING
.SS File Not Recognized
.RS
.IP \\(bu 2
Verify file has correct extension
.IP \\(bu 2
Check if file is actually an archive: file <filename>
.IP \\(bu 2
Some files may have double extensions (.tar.gz.part)
.IP \\(bu 2
Try renaming to correct extension
.RE
.SS Tool Not Found
.RS
.IP \\(bu 2
Install required extraction tool (see EXTRACTION TOOLS section)
.IP \\(bu 2
Check PATH includes tool location: which <tool>
.IP \\(bu 2
On some systems unrar is named rar
.IP \\(bu 2
7z might be p7zip or 7za on some distributions
.RE
.SS Extraction Failed
.RS
.IP \\(bu 2
Archive may be corrupted: download again
.IP \\(bu 2
Check disk space: df -h
.IP \\(bu 2
Verify read permissions on archive file
.IP \\(bu 2
Try manual extraction with tool directly
.IP \\(bu 2
Use --debug to see exact extraction command
.RE
.SS Permission Denied
.RS
.IP \\(bu 2
Check archive file is readable: ls -l <file>
.IP \\(bu 2
Verify write permission in target directory
.IP \\(bu 2
With --dir, ensure directory exists and is writable
.IP \\(bu 2
Some archives may contain files with restricted permissions
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \\(bu 2
bash - Bash shell for script execution
.RE
.TP
.B Optional (format-specific):
.RS
.IP \\(bu 2
tar - Tar archive extraction
.IP \\(bu 2
gzip - Gzip decompression
.IP \\(bu 2
bzip2 - Bzip2 decompression
.IP \\(bu 2
xz-utils - XZ decompression
.IP \\(bu 2
unzip - ZIP extraction
.IP \\(bu 2
unrar - RAR extraction
.IP \\(bu 2
p7zip-full - 7z and ISO extraction
.IP \\(bu 2
ncompress - Unix compress (.Z) decompression
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \\(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR tar (1),
.BR gzip (1),
.BR bzip2 (1),
.BR unzip (1),
.BR unrar (1),
.BR 7z (1),
.BR xz (1)
.PP
Archive format documentation:
.br
tar: https://www.gnu.org/software/tar/
.br
ZIP: https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT
.br
7z: https://www.7-zip.org/
