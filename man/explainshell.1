.TH EXPLAINSHELL "1" "December 2025" "explainshell 202208062305-git" "User Commands"
.SH NAME
explainshell \- Search explainshell.com for command explanations
.SH SYNOPSIS
.B explainshell
[\fI\,OPTIONS\/\fR] -- \fI\,COMMAND\/\fR [\fI\,ARGUMENTS\/\fR]
.SH DESCRIPTION
.B explainshell
is a command-line interface to explainshell.com, a web service that provides detailed explanations of shell commands and their options. The tool fetches explanations by querying the explainshell.com API and displays formatted results in the terminal with colorized output.
.PP
The script simplifies command learning by providing instant explanations from the terminal, detailed breakdowns of command syntax and options, URL encoding for special characters in queries, HTML stripping and text extraction from API responses, colorized output for easy reading, configurable API endpoint, offline caching capability, and integration with shell workflows and documentation.
.PP
explainshell is particularly useful for learning new shell commands and their options, understanding complex command pipelines, troubleshooting command syntax errors, documenting shell scripts with inline explanations, teaching and training for shell scripting, quick reference without leaving the terminal, and exploring command variations and alternatives.
.SH COMMANDS
.TP
.B explainshell -- \fI\,COMMAND\/\fR
Search for basic command explanation
.TP
.B explainshell -- \fI\,COMMAND ARGUMENTS\/\fR
Search for command with specific arguments/options
.SH OPTIONS
.TP
.BR \-\-silent
Suppress notification output
.TP
.BR \-\-help
Display help message with usage information and exit
.TP
.BR \-\-config
Generate or regenerate user configuration file and exit
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options and exit
.TP
.BR \-\-debug
Enable debug mode with verbose output and tracing
.TP
.BR \-\-raw
Disable colorized output for plain text display
.TP
.BR \-\-completions " " \fI\,TYPE\/\fR
Generate completion strings for shell integration (short, long, array, list)
.SH HOW IT WORKS
explainshell operates through several key components:
.SS URL Encoding
.RS
The script encodes shell commands and arguments for safe URL transmission:
.PP
.EX
# Special characters are percent-encoded:
Space   → %20
!       → %21
"       → %22
#       → %23
$       → %24
&       → %26
'       → %27
(       → %28
)       → %29
*       → %2a
+       → %2b
/       → %2f
:       → %3a
;       → %3b
>       → %3e
?       → %3f
@       → %40
[       → %5b
\\       → %5c
]       → %5d
^       → %5e
_       → %5f
`       → %60
{       → %7b
|       → %7c
}       → %7d
~       → %7e
.EE
.PP
Process:
.IP 1. 3
Command and arguments are separated
.IP 2. 3
Each component is URL-encoded using sed substitutions
.IP 3. 3
Arguments are joined with + symbols
.IP 4. 3
Final URL is constructed with encoded components
.RE
.SS API Query
.RS
Queries are sent to the explainshell.com API:
.PP
.EX
# API endpoint structure:
https://explainshell.com/explain/<command>
https://explainshell.com/explain/<command>?args=<arguments>

# Examples:
explainshell -- curl
→ https://explainshell.com/explain/curl

explainshell -- curl -o
→ https://explainshell.com/explain/curl?args=-o

explainshell -- tar -xzvf file.tar.gz
→ https://explainshell.com/explain/tar?args=-xzvf+file.tar.gz
.EE
.PP
Steps:
.IP 1. 3
Check if URL returns HTTP 200 OK with HEAD request
.IP 2. 3
If successful, fetch full page content with GET request
.IP 3. 3
Extract explanation from HTML response
.IP 4. 3
Display formatted result
.RE
.SS HTML Processing
.RS
Raw HTML is processed to extract plain text explanations:
.PP
.EX
# Processing pipeline:
curl response
  ↓
Remove <script> tags and content
  ↓
Remove JavaScript function definitions
  ↓
Extract content between <pre> tags
  ↓
Strip all HTML tags
  ↓
Trim leading and trailing whitespace
  ↓
Filter empty lines
  ↓
Display with colorization
.EE
.PP
sed operations used:
.RS 4
.EX
# Remove scripts
sed -e '/<script/,/<\\/script>/d'

# Remove JavaScript
sed -e '/(function/,/});/d'

# Extract pre-formatted text
sed -n '/<pre/,/<\\/pre>/p'

# Strip HTML tags
sed -s 's/<[^>]*>//g'

# Trim whitespace
sed -e 's/^ *//g;s/ *$//g'

# Filter non-empty lines
grep '.'
.EE
.RE
.RE
.SH EXAMPLES
.TP
.B explainshell -- curl
Explain the curl command
.TP
.B explainshell -- curl -o
Explain curl with the -o option
.TP
.B explainshell -- tar -xzvf
Explain tar with extraction options
.TP
.B explainshell -- find . -name "*.txt"
Explain find command with name pattern
.TP
.B explainshell -- grep -r "pattern" /path
Explain grep with recursive search
.TP
.B explainshell -- awk '{print $1}'
Explain awk command with print statement
.TP
.B explainshell -- sed 's/old/new/g'
Explain sed substitution command
.TP
.B explainshell -- ls -la
Explain ls with long format and all files options
.TP
.B explainshell -- git commit -m "message"
Explain git commit with message option
.TP
.B explainshell -- docker run -it ubuntu bash
Explain docker run with interactive terminal
.TP
.B explainshell --config
Generate configuration file at ~/.config/myscripts/explainshell/settings.conf
.TP
.B explainshell --raw -- curl -o
Explain curl -o without colored output
.SH USE CASES
How to use explainshell in different scenarios:
.SS Learning New Commands
.RS
Discover command options and their purposes:
.PP
.EX
# Learn curl options
explainshell -- curl -X POST -H "Content-Type: application/json"

# Understand tar extraction
explainshell -- tar -xzvf archive.tar.gz

# Learn find command
explainshell -- find /path -type f -mtime -7

# Understand rsync
explainshell -- rsync -avz --delete source/ dest/

# Learn awk processing
explainshell -- awk -F: '{print $1}' /etc/passwd
.EE
.RE
.SS Understanding Complex Pipelines
.RS
Break down complex command pipelines:
.PP
.EX
# Explain each part separately
explainshell -- ps aux
explainshell -- grep firefox
explainshell -- awk '{print $2}'
explainshell -- xargs kill

# Understand pipeline components:
# ps aux | grep firefox | awk '{print $2}' | xargs kill
# 1. List processes
# 2. Filter for firefox
# 3. Extract PID column
# 4. Kill each PID
.EE
.RE
.SS Script Documentation
.RS
Document shell scripts with inline explanations:
.PP
.EX
#!/bin/bash
# Backup script with inline documentation

# Explain: tar -czf backup.tar.gz /data
# Creates compressed archive
explainshell -- tar -czf backup.tar.gz /data

# Explain: rsync -avz backup/ remote:/backups/
# Sync to remote server
explainshell -- rsync -avz backup/ remote:/backups/

# Explain: find /tmp -type f -mtime +7 -delete
# Clean old temporary files
explainshell -- find /tmp -type f -mtime +7 -delete
.EE
.RE
.SS Troubleshooting Syntax
.RS
Verify command syntax before execution:
.PP
.EX
# Check find syntax
explainshell -- find . -name "*.log" -exec rm {} \\;

# Verify sed substitution
explainshell -- sed -i 's/old/new/g' file.txt

# Confirm grep options
explainshell -- grep -rnw /path -e "pattern"

# Check curl options
explainshell -- curl -X POST -d @data.json https://api.example.com
.EE
.RE
.SS Training and Education
.RS
Teach shell scripting concepts:
.PP
.EX
# Teach file operations
echo "File listing:"
explainshell -- ls -lh

echo "File search:"
explainshell -- find . -type f

echo "Text search:"
explainshell -- grep -r "pattern" .

# Create learning exercises
cat << EOF > learn_commands.sh
#!/bin/bash
# Exercise 1: Learn ps command
explainshell -- ps aux

# Exercise 2: Learn netstat
explainshell -- netstat -tulpn

# Exercise 3: Learn df
explainshell -- df -h
EOF
.EE
.RE
.SS Quick Reference
.RS
Use as quick command reference without web browser:
.PP
.EX
# Quick option lookup
explainshell -- ssh -L 8080:localhost:80
explainshell -- git log --oneline --graph
explainshell -- docker ps -a
explainshell -- systemctl status service

# Compare similar commands
explainshell -- cp -r source dest
explainshell -- rsync -av source dest
.EE
.RE
.SS Shell Alias Integration
.RS
Create aliases for frequently explained commands:
.PP
.EX
# Add to ~/.bashrc or ~/.zshrc
alias explain='explainshell --'
alias exp='explainshell --'

# Usage becomes simpler
explain curl -X POST
exp tar -xzvf archive.tar.gz
exp find . -name "*.txt"

# Combine with learning workflow
learn() {
    echo "Command: $@"
    explainshell -- "$@"
    echo ""
    echo "Try it? (y/n)"
    read -r response
    if [ "$response" = "y" ]; then
        "$@"
    fi
}

# Use learning function
learn curl -I https://example.com
.EE
.RE
.SH URL ENCODING DETAILS
The script performs comprehensive URL encoding:
.SS Encoding Algorithm
.RS
Each special character is converted to its percent-encoded equivalent:
.PP
.EX
# Example encoding:
Input:  curl -X POST --data '{"key":"value"}'
Output: curl+-X+POST+--data+%27%7b%22key%22%3a%22value%22%7d%27

# Breakdown:
Space     →  +
-         →  %2d
'         →  %27
{         →  %7b
"         →  %22
:         →  %3a
}         →  %7d

# Final URL:
https://explainshell.com/explain/curl?args=%2dX+POST+%2d%2ddata+%27%7b%22key%22%3a%22value%22%7d%27
.EE
.RE
.SS Why URL Encoding Matters
.RS
URL encoding ensures safe transmission of special characters:
.IP \(bu 2
Preserves command syntax during HTTP transmission
.IP \(bu 2
Prevents interpretation of special characters as URL delimiters
.IP \(bu 2
Handles shell metacharacters (|, &, ;, <, >, etc.)
.IP \(bu 2
Supports international characters and Unicode
.IP \(bu 2
Maintains query parameter integrity
.RE
.SH API INTERACTION
.SS Endpoint Structure
.RS
The explainshell.com API has a simple structure:
.PP
.EX
# Base endpoint
https://explainshell.com/explain

# Command only
https://explainshell.com/explain/<encoded_command>

# Command with arguments
https://explainshell.com/explain/<encoded_command>?args=<encoded_args>

# Multiple arguments joined with +
args=<arg1>+<arg2>+<arg3>
.EE
.RE
.SS HTTP Headers
.RS
The script checks response headers:
.PP
.EX
# HEAD request to verify availability
curl -q -ILSsi "$URL" | grep '200 OK'

# Response indicates success:
HTTP/1.1 200 OK
Server: nginx
Content-Type: text/html

# If not 200 OK, command not found
.EE
.RE
.SS Response Processing
.RS
HTML response contains explanation in <pre> tags:
.PP
.EX
# Typical response structure:
<html>
<head>...</head>
<body>
  <script>...</script>
  <div>...</div>
  <pre>
    curl - transfer data from or to a server

    -o, --output <file>
        Write output to <file> instead of stdout
  </pre>
</body>
</html>

# Script extracts only the <pre> content
.EE
.RE
.SH CONFIGURATION
.SS Configuration File
.RS
Located at ~/.config/myscripts/explainshell/settings.conf:
.PP
.EX
# Settings for explainshell
EXPLAINSHELL_API="https://explainshell.com/explain"

# Color Settings
EXPLAINSHELL_OUTPUT_COLOR_1="33"
EXPLAINSHELL_OUTPUT_COLOR_2="5"
EXPLAINSHELL_OUTPUT_COLOR_GOOD="2"
EXPLAINSHELL_OUTPUT_COLOR_ERROR="1"

# Notification Settings
EXPLAINSHELL_NOTIFY_ENABLED="yes"
EXPLAINSHELL_GOOD_NAME="Great:"
EXPLAINSHELL_ERROR_NAME="Error:"
EXPLAINSHELL_GOOD_MESSAGE="No errors reported"
EXPLAINSHELL_ERROR_MESSAGE="Errors were reported"
EXPLAINSHELL_NOTIFY_CLIENT_NAME="explainshell"
EXPLAINSHELL_NOTIFY_CLIENT_ICON="notification-new"
EXPLAINSHELL_NOTIFY_CLIENT_URGENCY="normal"
.EE
.RE
.SS Custom API Endpoint
.RS
Configure alternative or local explainshell instance:
.PP
.EX
# Edit config file
EXPLAINSHELL_API="http://localhost:5000/explain"

# Or set environment variable
export EXPLAINSHELL_API="http://custom.server/explain"

# Self-hosted explainshell server
# See: https://github.com/idank/explainshell
.EE
.RE
.SH FILES
.TP
.B ~/.config/myscripts/explainshell/settings.conf
User configuration file
.TP
.B ~/.local/share/myscripts/explainshell/backups/
Configuration backup directory
.TP
.B ~/.local/log/explainshell/
Log file directory
.TP
.B ~/.local/tmp/system_scripts/explainshell/
Temporary files directory
.TP
.B ~/.cache/explainshell/
Cache directory for offline storage (future use)
.SH ENVIRONMENT VARIABLES
.TP
.B EXPLAINSHELL_API
API endpoint URL (default: https://explainshell.com/explain)
.TP
.B SEND_NOTIFICATION
Runtime notification control (set to "no" to disable)
.TP
.B EXPLAINSHELL_NOTIFY_ENABLED
Enable/disable desktop notifications (default: yes)
.TP
.B EXPLAINSHELL_NOTIFY_CLIENT_NAME
Application name for notifications (default: explainshell)
.TP
.B EXPLAINSHELL_NOTIFY_CLIENT_ICON
Icon for notifications (default: notification-new)
.TP
.B EXPLAINSHELL_NOTIFY_CLIENT_URGENCY
Notification urgency level (default: normal)
.TP
.B EXPLAINSHELL_GOOD_NAME
Success notification title (default: Great:)
.TP
.B EXPLAINSHELL_ERROR_NAME
Error notification title (default: Error:)
.TP
.B EXPLAINSHELL_GOOD_MESSAGE
Success message text (default: No errors reported)
.TP
.B EXPLAINSHELL_ERROR_MESSAGE
Error message text (default: Errors were reported)
.TP
.B EXPLAINSHELL_OUTPUT_COLOR_1
Primary output color code (default: 33 for yellow)
.TP
.B EXPLAINSHELL_OUTPUT_COLOR_2
Secondary output color code (default: 5 for magenta)
.TP
.B EXPLAINSHELL_OUTPUT_COLOR_GOOD
Success message color (default: 2 for green)
.TP
.B EXPLAINSHELL_OUTPUT_COLOR_ERROR
Error message color (default: 1 for red)
.SH EXIT STATUS
.TP
.B 0
Success - explanation retrieved successfully
.TP
.B 1
Error - command not found or API unavailable
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
curl - HTTP client for API requests
.IP \(bu 2
sed - Stream editor for HTML processing
.IP \(bu 2
grep - Pattern matching for text extraction
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
notifications - Desktop notification system
.RE
.SH NOTES
.IP \(bu 2
Requires internet connection to query explainshell.com
.IP \(bu 2
Results depend on explainshell.com database coverage
.IP \(bu 2
Some commands may not have explanations available
.IP \(bu 2
Complex commands with many options may have lengthy explanations
.IP \(bu 2
URL encoding handles special characters automatically
.IP \(bu 2
HTML is stripped from responses for plain text display
.IP \(bu 2
Colorized output can be disabled with --raw option
.IP \(bu 2
API endpoint is configurable for self-hosted instances
.SH TIPS
.SS Shell Function Wrapper
.RS
Create convenient shell function:
.PP
.EX
# Add to ~/.bashrc or ~/.zshrc
explain() {
    explainshell -- "$@"
}

# Usage
explain curl -X POST
explain tar -xzvf
.EE
.RE
.SS Command History Integration
.RS
Explain commands from history:
.PP
.EX
# Explain last command
explainshell -- $(history | tail -2 | head -1 | awk '{$1=""; print $0}')

# Function to explain command number
explain_history() {
    cmd=$(history | grep "^ *$1" | awk '{$1=""; print $0}')
    explainshell -- $cmd
}

# Usage: explain_history 123
.EE
.RE
.SS Offline Usage
.RS
Cache explanations for offline reference:
.PP
.EX
# Save explanation to file
explainshell -- curl -o > ~/.cache/explainshell/curl-o.txt

# Create offline cache
commands="curl tar find grep sed awk"
for cmd in $commands; do
    explainshell -- $cmd > ~/.cache/explainshell/${cmd}.txt
done

# View cached explanation
cat ~/.cache/explainshell/curl.txt
.EE
.RE
.SS Self-Hosted explainshell
.RS
Run local explainshell server:
.PP
.EX
# Clone and run explainshell locally
# See: https://github.com/idank/explainshell

# Configure local endpoint
export EXPLAINSHELL_API="http://localhost:5000/explain"

# Use with local server
explainshell -- curl -o
.EE
.RE
.SH TROUBLESHOOTING
.SS No Result Found
.RS
If command explanation not found:
.PP
Solution:
.IP \(bu 2
Check command spelling: explainshell -- curl (not crul)
.IP \(bu 2
Try simpler query: explainshell -- tar (not full tar -xzvf ...)
.IP \(bu 2
Verify internet connection: ping explainshell.com
.IP \(bu 2
Check API availability: curl -I https://explainshell.com
.IP \(bu 2
Some obscure commands may not be in database
.IP \(bu 2
Try official documentation: man curl
.RE
.SS Connection Errors
.RS
If cannot connect to explainshell.com:
.PP
Solution:
.IP \(bu 2
Check internet: ping 1.1.1.1
.IP \(bu 2
Check DNS: nslookup explainshell.com
.IP \(bu 2
Check firewall: allow HTTPS outbound
.IP \(bu 2
Try different network
.IP \(bu 2
Use VPN if blocked in your region
.IP \(bu 2
Consider self-hosted instance
.RE
.SS Special Characters Not Encoding
.RS
If special characters cause errors:
.PP
Solution:
.IP \(bu 2
Quote arguments: explainshell -- "awk '{print $1}'"
.IP \(bu 2
Escape shell metacharacters properly
.IP \(bu 2
Use -- to separate options from command
.IP \(bu 2
Check URL encoding in debug mode: explainshell --debug -- command
.RE
.SS Empty or Malformed Output
.RS
If output is garbled or empty:
.PP
Solution:
.IP \(bu 2
Check curl installed: which curl
.IP \(bu 2
Check sed installed: which sed
.IP \(bu 2
Verify API response: curl -s https://explainshell.com/explain/curl
.IP \(bu 2
Try --raw mode: explainshell --raw -- curl
.IP \(bu 2
Update curl: sudo apt update && sudo apt upgrade curl
.RE
.SH EXAMPLES OF COMMON COMMANDS
.SS File Operations
.RS
.EX
explainshell -- cp -r source dest
explainshell -- mv -i old new
explainshell -- rm -rf directory
explainshell -- ln -s target link
.EE
.RE
.SS Text Processing
.RS
.EX
explainshell -- grep -rn "pattern" .
explainshell -- sed 's/old/new/g' file
explainshell -- awk '{print $1}' file
explainshell -- cut -d: -f1 /etc/passwd
.EE
.RE
.SS Network Commands
.RS
.EX
explainshell -- curl -X POST -d data url
explainshell -- wget -r -np url
explainshell -- netstat -tulpn
explainshell -- ssh -L 8080:localhost:80 user@host
.EE
.RE
.SS System Administration
.RS
.EX
explainshell -- ps aux
explainshell -- systemctl status service
explainshell -- journalctl -xe
explainshell -- df -h
.EE
.RE
.SH LIMITATIONS
.IP \(bu 2
Requires internet connectivity
.IP \(bu 2
Limited to commands in explainshell.com database
.IP \(bu 2
Complex pipelines must be explained component-by-component
.IP \(bu 2
API rate limiting may apply (use self-hosted for heavy usage)
.IP \(bu 2
Explanations quality depends on database accuracy
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.PP
For explainshell.com database issues, report at: https://github.com/idank/explainshell
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR man (1),
.BR apropos (1),
.BR info (1),
.BR curl (1),
.BR help (builtin)
.PP
Project URL: https://explainshell.com
.br
Source code: https://github.com/idank/explainshell
