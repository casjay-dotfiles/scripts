.TH FINDMYPI "1" "December 2025" "findmypi 202208070743-git" "User Commands"
.SH NAME
findmypi \- Find Raspberry Pi devices on local network using nmap scanning
.SH SYNOPSIS
.B findmypi
[\fI\,NETWORK\fR] [\fI\,NETMASK\fR] [\fI\,OPTIONS\fR]
.SH DESCRIPTION
.B findmypi
is a specialized network scanner that locates Raspberry Pi devices on local networks. It uses nmap to perform network discovery scans and filters the results specifically for devices identified as Raspberry Pi hardware based on MAC address manufacturer information. The script automatically detects network parameters, performs ping scans to find active hosts, and saves discovered Raspberry Pi devices with their IP addresses and hostnames to a persistent list file.
.PP
The script simplifies Raspberry Pi discovery by providing automatic network parameter detection from the default network interface, CIDR notation support for flexible network specification, hostname resolution via DNS lookups, and persistent device list storage in ~/Documents/myscripts/findmypi_devices.txt. Results are displayed with color-coded output and saved for future reference.
.PP
findmypi is particularly useful for network administrators managing multiple Raspberry Pi devices, IoT developers working with Pi-based projects, home automation enthusiasts tracking smart home devices, and system administrators performing device inventory and auditing tasks.
.SH USAGE
.B findmypi
.PP
Scan local network (auto-detects network/netmask from default interface).
.PP
.B findmypi 192.168.1.0/24
.PP
Scan specific network using CIDR notation.
.PP
.B findmypi 10.0.0.0 16
.PP
Scan custom network with separate network and netmask parameters.
.PP
.B findmypi --debug
.PP
Scan local network with verbose debug output.
.SH OPTIONS
.TP
.BR \-\-help
Display help message with usage information
.TP
.BR \-\-config
Generate or regenerate user configuration file
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options
.TP
.BR \-\-debug
Enable debug mode with verbose nmap output
.TP
.BR \-\-raw
Disable colorized output for plain text display
.TP
.BR \-\-silent
Suppress desktop notifications
.SH NETWORK SCANNING
How findmypi discovers Raspberry Pi devices:
.SS Automatic Network Detection
.RS
If no network is specified, findmypi automatically detects the local network configuration:
.EX
default_if=$(ip route list | awk '/^default/ {print $5}')
ip=$(ip -o -f inet addr show "$default_if" | awk -F/ '{print $1}')
nm=$(ip -o -f inet addr show "$default_if" | awk -F/ '{print $2}')
.EE
.IP \(bu 2
Identifies default network interface from routing table
.IP \(bu 2
Extracts IP address and netmask from interface
.IP \(bu 2
Calculates network address (.0) for scanning
.IP \(bu 2
Uses CIDR netmask (e.g., /24) for range
.RE
.SS Nmap Ping Scan
.RS
Core scanning command that discovers active hosts:
.EX
sudo nmap -sP -n "$network"/"$netmask"
.EE
.IP \(bu 2
-sP: Ping scan (host discovery only, no port scan)
.IP \(bu 2
-n: No DNS resolution during scan (faster)
.IP \(bu 2
Discovers all responding hosts on network
.IP \(bu 2
Identifies device manufacturers from MAC addresses
.IP \(bu 2
Returns MAC address OUI information
.RE
.SS Raspberry Pi Filtering
.RS
Filters nmap output for Raspberry Pi devices:
.EX
sudo nmap -sP -n "$ip"/"$nm" | \\
  awk '/^Nmap/{ip=$NF}/Raspberry Pi/{print ip}' | \\
  sed 's#(##g' | sed 's#)##g'
.EE
.IP \(bu 2
Scans for "Raspberry Pi" string in nmap output
.IP \(bu 2
Extracts IP address from Nmap scan line
.IP \(bu 2
Removes parentheses from IP addresses
.IP \(bu 2
Outputs clean IP address list
.IP \(bu 2
Matches all Raspberry Pi Foundation OUI prefixes
.RE
.SS Hostname Resolution
.RS
.IP \(bu 2
Attempts getent hosts lookup for each discovered IP
.IP \(bu 2
Verifies connectivity with ping -c1 -4
.IP \(bu 2
Saves IP and hostname to device list
.IP \(bu 2
Marks unresolvable devices as "unknown"
.IP \(bu 2
Updates master list at ~/Documents/myscripts/findmypi_devices.txt
.RE
.SH NETWORK PARAMETERS
Understanding network specification:
.SS CIDR Notation
.RS
.IP \(bu 2
192.168.1.0/24 - 254 hosts (192.168.1.1-254)
.IP \(bu 2
10.0.0.0/16 - 65534 hosts (10.0.0.1-255.255)
.IP \(bu 2
172.16.0.0/12 - 1,048,574 hosts
.IP \(bu 2
192.168.0.0/23 - 510 hosts (192.168.0-1.1-254)
.RE
.SS Common Private Networks
.RS
.IP \(bu 2
192.168.0.0/16 - Class C private range (home networks)
.IP \(bu 2
10.0.0.0/8 - Class A private range (large networks)
.IP \(bu 2
172.16.0.0/12 - Class B private range (corporate networks)
.RE
.SS Network Examples
.RS
.EX
# Scan home /24 network
findmypi 192.168.1.0/24

# Scan corporate /16 network (takes longer)
findmypi 10.0.0.0/16

# Scan with separate parameters
findmypi 192.168.100.0 24

# Scan specific subnet
findmypi 10.50.30.0 28
.EE
.RE
.SH EXAMPLES
.TP
.B findmypi
Automatically scan local network for Raspberry Pi devices
.TP
.B findmypi 192.168.1.0/24
Scan specific /24 network
.TP
.B findmypi 10.0.0.0 16
Scan 10.0.0.0/16 network with separate parameters
.TP
.B findmypi --debug 192.168.1.0/24
Scan with verbose nmap output and debugging information
.TP
.B findmypi --silent
Scan local network without desktop notifications
.TP
.B findmypi --raw 192.168.1.0/24
Scan with plain text output (no colors)
.SH OUTPUT FILES
findmypi saves results to organized files:
.SS Device List File
.RS
.TP
.B ~/Documents/myscripts/findmypi_devices.txt
Contains all discovered Raspberry Pi devices with hostnames:
.EX
192.168.1.10   raspberrypi.local
192.168.1.20   pi-hole.local
192.168.1.50   unknown
192.168.1.100  octopi.local
.EE
.IP \(bu 2
Format: IP_ADDRESS    HOSTNAME
.IP \(bu 2
Sorted and deduplicated automatically
.IP \(bu 2
Persists across multiple scans
.IP \(bu 2
Updated with each scan
.IP \(bu 2
Devices without DNS entries marked "unknown"
.RE
.SH FILES
.TP
.B ~/.config/myscripts/findmypi/settings.conf
User configuration file
.TP
.B ~/.local/share/myscripts/findmypi/backups/
Configuration backup directory
.TP
.B ~/.local/log/findmypi/
Log file directory
.TP
.B ~/.local/run/system_scripts/findmypi/
Runtime directory
.TP
.B ~/.local/tmp/system_scripts/findmypi/
Temporary files directory (scan working files)
.TP
.B ~/.cache/findmypi/
Cache directory
.TP
.B ~/Documents/myscripts/findmypi_devices.txt
Master list of all discovered Raspberry Pi devices
.SH ENVIRONMENT VARIABLES
.TP
.B FINDMYPI_SAVED_FILE
Device list file location (default: ~/Documents/myscripts/findmypi_devices.txt)
.TP
.B FINDMYPI_NOTIFY_ENABLED
Enable/disable desktop notifications (default: yes)
.TP
.B FINDMYPI_OUTPUT_COLOR_1
Primary output color code (default: 33 for yellow)
.TP
.B FINDMYPI_OUTPUT_COLOR_2
Secondary output color code (default: 5 for magenta)
.TP
.B FINDMYPI_OUTPUT_COLOR_GOOD
Success message color (default: 2 for green)
.TP
.B FINDMYPI_OUTPUT_COLOR_ERROR
Error message color (default: 1 for red)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/findmypi/settings.conf supports the following settings:
.PP
.RS 4
.EX
# Output file location
FINDMYPI_SAVED_FILE="$HOME/Documents/myscripts/findmypi_devices.txt"

# Notification settings
FINDMYPI_NOTIFY_ENABLED="yes"

# Output colorization
FINDMYPI_OUTPUT_COLOR_1="33"
FINDMYPI_OUTPUT_COLOR_2="5"
FINDMYPI_OUTPUT_COLOR_GOOD="2"
FINDMYPI_OUTPUT_COLOR_ERROR="1"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - Raspberry Pi devices found on network
.TP
.B 1
Error - no Raspberry Pi devices found on network
.TP
.B 3
Error - required tools not found (bash or nmap missing)
.SH NOTES
.IP \(bu 2
Requires sudo/root privileges for nmap operations
.IP \(bu 2
Scan time depends on network size and timeout settings
.IP \(bu 2
Only detects Raspberry Pi devices (filters by manufacturer OUI)
.IP \(bu 2
Results are cumulative in device list (not cleared between scans)
.IP \(bu 2
Hostname resolution requires functional DNS or /etc/hosts
.IP \(bu 2
Large networks (/16, /8) can take significant time to scan
.IP \(bu 2
Network traffic may trigger IDS/IPS alerts
.IP \(bu 2
Requires nmap version with MAC address manufacturer detection
.IP \(bu 2
Offline Raspberry Pi devices will not be detected
.IP \(bu 2
Devices must respond to ICMP ping requests
.SH TIPS
.SS Network Discovery
.RS
.EX
# Quick scan of local network
findmypi

# Scan specific subnet for Pi devices
findmypi 192.168.10.0/24

# Scan entire corporate network (slow)
findmypi 10.0.0.0/16

# Check if specific IP is Raspberry Pi
findmypi 192.168.1.100/32
.EE
.RE
.SS Result Analysis
.RS
.EX
# View all discovered Raspberry Pi devices
cat ~/Documents/myscripts/findmypi_devices.txt

# Count discovered Raspberry Pi devices
wc -l ~/Documents/myscripts/findmypi_devices.txt

# Find specific hostname
grep -i "octopi" ~/Documents/myscripts/findmypi_devices.txt

# List only IP addresses
awk '{print $1}' ~/Documents/myscripts/findmypi_devices.txt
.EE
.RE
.SS Automation
.RS
.EX
# Daily Raspberry Pi scan (cron)
0 2 * * * /usr/local/bin/findmypi

# Scan and alert on new devices
#!/bin/bash
old_count=$(wc -l < ~/Documents/myscripts/findmypi_devices.txt)
findmypi
new_count=$(wc -l < ~/Documents/myscripts/findmypi_devices.txt)
[ "$new_count" -gt "$old_count" ] && \\
  notify-send "New Raspberry Pi found on network"

# Scan multiple networks
for net in 192.168.1.0/24 192.168.2.0/24 10.0.0.0/24; do
  findmypi "$net"
done
.EE
.RE
.SH USE CASES
.SS IoT Device Management
.RS
.IP \(bu 2
Discover all Raspberry Pi devices in smart home network
.IP \(bu 2
Track Pi-based sensors and controllers
.IP \(bu 2
Monitor IoT device connectivity
.IP \(bu 2
Inventory Raspberry Pi deployments
.IP \(bu 2
Identify unauthorized Pi devices
.RE
.SS Network Administration
.RS
.IP \(bu 2
DHCP IP allocation monitoring for Pi devices
.IP \(bu 2
Raspberry Pi device documentation and inventory
.IP \(bu 2
Troubleshooting Pi connectivity issues
.IP \(bu 2
Network capacity planning
.IP \(bu 2
Device availability monitoring
.RE
.SS Development and Testing
.RS
.IP \(bu 2
Locate Raspberry Pi development boards on network
.IP \(bu 2
Find Pi Zero devices with dynamic IPs
.IP \(bu 2
Discover Pi-based test environments
.IP \(bu 2
Track headless Raspberry Pi installations
.IP \(bu 2
Identify Pi devices for SSH access
.RE
.SH TROUBLESHOOTING
.SS No Raspberry Pi Devices Found
.RS
.IP \(bu 2
Verify Raspberry Pi is powered on and connected to network
.IP \(bu 2
Check network parameters are correct
.IP \(bu 2
Ensure sudo password was entered correctly
.IP \(bu 2
Verify network interface is up: ip link show
.IP \(bu 2
Try manual nmap: sudo nmap -sP -n <network>/<mask>
.IP \(bu 2
Check firewall rules aren't blocking ICMP
.IP \(bu 2
Ensure Pi responds to ping: ping <pi-ip>
.RE
.SS Nmap Requires Sudo
.RS
.IP \(bu 2
Script automatically requests sudo access
.IP \(bu 2
Enter password when prompted
.IP \(bu 2
Verify user is in sudoers file
.IP \(bu 2
Check sudo group membership: groups $USER
.IP \(bu 2
Test sudo access: sudo -v
.RE
.SS Scan Takes Too Long
.RS
.IP \(bu 2
Scan smaller subnet (use /24 instead of /16)
.IP \(bu 2
Use nmap directly with faster timing options
.IP \(bu 2
Scan during off-peak hours
.IP \(bu 2
Consider network segmentation
.IP \(bu 2
Check network latency: ping -c 10 <gateway>
.RE
.SS Hostname Resolution Fails
.RS
.IP \(bu 2
Check DNS configuration: cat /etc/resolv.conf
.IP \(bu 2
Verify getent is installed: which getent
.IP \(bu 2
Test resolution manually: getent hosts <IP>
.IP \(bu 2
Add entries to /etc/hosts if needed
.IP \(bu 2
Devices marked "unknown" have no reverse DNS
.IP \(bu 2
Configure Pi hostname: sudo raspi-config
.RE
.SS Network Display Issues
.RS
.IP \(bu 2
Install ipcalc for enhanced network info: sudo apt install ipcalc
.IP \(bu 2
Install unbuffer for better output: sudo apt install expect
.IP \(bu 2
Use --raw flag to disable colorization
.IP \(bu 2
Check terminal supports ANSI colors
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
nmap - Network mapper for scanning
.IP \(bu 2
sudo - Privilege elevation for nmap
.IP \(bu 2
ip - Network configuration tool
.IP \(bu 2
awk - Text processing for filtering output
.IP \(bu 2
sed - Stream editor for text manipulation
.IP \(bu 2
grep - Pattern matching
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
ipcalc - Network calculation and display
.IP \(bu 2
unbuffer - Output buffering for better display
.IP \(bu 2
getent - Name service lookup for hostname resolution
.IP \(bu 2
ping - Connectivity testing
.RE
.SH RASPBERRY PI DETECTION
.SS MAC Address OUI Prefixes
.RS
Raspberry Pi devices are identified by MAC address manufacturer information (OUI):
.IP \(bu 2
B8:27:EB - Raspberry Pi Foundation (original prefix)
.IP \(bu 2
DC:A6:32 - Raspberry Pi Trading Ltd (newer models)
.IP \(bu 2
E4:5F:01 - Raspberry Pi Foundation (additional prefix)
.IP \(bu 2
D8:3A:DD - Raspberry Pi Foundation
.RE
.SS Detected Models
.RS
All Raspberry Pi models are detected:
.IP \(bu 2
Raspberry Pi 1 Model A/A+/B/B+
.IP \(bu 2
Raspberry Pi 2 Model B
.IP \(bu 2
Raspberry Pi 3 Model A+/B/B+
.IP \(bu 2
Raspberry Pi 4 Model B
.IP \(bu 2
Raspberry Pi 5
.IP \(bu 2
Raspberry Pi 400
.IP \(bu 2
Raspberry Pi Zero/Zero W/Zero 2 W
.IP \(bu 2
Raspberry Pi Compute Module (all versions)
.IP \(bu 2
Raspberry Pi Pico W (when connected to network)
.RE
.SH SECURITY CONSIDERATIONS
.SS Network Scanning Ethics
.RS
.IP \(bu 2
Only scan networks you own or have permission to scan
.IP \(bu 2
Network scanning may be detected as reconnaissance
.IP \(bu 2
Respect network usage policies
.IP \(bu 2
Corporate networks may have monitoring and alerting
.IP \(bu 2
Inform network administrators before scanning
.RE
.SS Best Practices
.RS
.IP \(bu 2
Obtain written permission before scanning
.IP \(bu 2
Scan during maintenance windows when possible
.IP \(bu 2
Document all Raspberry Pi devices found
.IP \(bu 2
Secure device list file (contains network topology)
.IP \(bu 2
Monitor for unauthorized Raspberry Pi devices
.IP \(bu 2
Keep device inventory up to date
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \\(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR nmap (1),
.BR ip (8),
.BR ping (8),
.BR getent (1)
.PP
Nmap documentation:
.br
https://nmap.org/book/man.html
.PP
Raspberry Pi documentation:
.br
https://www.raspberrypi.org/documentation/
