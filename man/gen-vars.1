.TH GEN-VARS "1" "December 2025" "gen-vars 202308190007-git" "User Commands"
.SH NAME
gen-vars \- Rewrite and normalize variable names from input
.SH SYNOPSIS
.B gen-vars
[\\fI\\,FILE\\fR | \\fI\\,VARIABLE_NAMES\\fR] [\\fI\\,OPTIONS\\fR]
.PP
.B command
|
.B gen-vars
.SH DESCRIPTION
.B gen-vars
is a variable name normalizer that reads variable names from stdin, files, or command-line arguments and rewrites them in a standardized format with uppercase letters and underscores. It generates bash variable declarations with ENV_ prefix fallback pattern, making it useful for creating environment variable wrappers, configuration file generation, and script boilerplate code.
.PP
The script simplifies variable management by providing automatic uppercase conversion with dash-to-underscore replacement, ENV_ prefix fallback pattern for environment variable support, optional prefix and suffix for variable namespacing, pipeline support for command output processing, file parsing with variable extraction, and standardized variable declaration format.
.PP
gen-vars is particularly useful for generating environment variable wrappers from configuration files, creating bash variable declarations with fallback defaults, normalizing variable naming conventions, converting configuration files to shell scripts, and automating boilerplate variable declaration code.
.SH USAGE
.B cat config.env | gen-vars
.PP
Read from stdin and generate normalized variables.
.PP
.B gen-vars config.env
.PP
Read from file and extract variable names.
.PP
.B gen-vars var1 var2 var3
.PP
Generate variables from command-line arguments.
.SH OPTIONS
.TP
.BR \\-\\-help
Display help message with usage information
.TP
.BR \\-\\-config
Generate or regenerate user configuration file
.TP
.BR \\-\\-version
Show script version information and exit
.TP
.BR \\-\\-options
Display all available command-line options
.TP
.BR \\-\\-debug
Enable debug mode with verbose output
.TP
.BR \\-\\-raw
Disable colorized output for plain text display
.TP
.BR \\-\\-dir \" \" \\fI\\,DIRECTORY\\fR
Set working directory
.SH INPUT FORMATS
How gen-vars processes different input types:
.SS Stdin Input
.RS
Read from pipeline or redirected input:
.EX
cat config.env | gen-vars
echo "myvar" | gen-vars
printenv | gen-vars
.EE
.IP \\(bu 2
Reads from stdin if no arguments and stdin is a pipe
.IP \\(bu 2
Processes lines containing '=' as variable assignments
.IP \\(bu 2
Extracts variable names before '=' sign
.IP \\(bu 2
Filters out comments and empty lines
.RE
.SS File Input
.RS
Read variable names from file:
.EX
gen-vars config.env
gen-vars ~/.bashrc
gen-vars /etc/environment
.EE
.IP \\(bu 2
Reads file if first argument is an existing file
.IP \\(bu 2
Searches for lines containing '=' character
.IP \\(bu 2
Extracts variable names using awk -F '=' '{print $1}'
.IP \\(bu 2
Processes multiple files: gen-vars file1 file2 file3
.RE
.SS Command-line Arguments
.RS
Process variable names from arguments:
.EX
gen-vars myvar
gen-vars var1 var2 var3
gen-vars "database-host" "api-key"
.EE
.IP \\(bu 2
Each argument treated as variable name
.IP \\(bu 2
Multiple variables processed in order
.IP \\(bu 2
Quote arguments with spaces or special characters
.RE
.SH VARIABLE TRANSFORMATION
How gen-vars normalizes variable names:
.SS Uppercase Conversion
.RS
All variable names converted to uppercase:
.IP \\(bu 2
Input: myvar → Output: MYVAR
.IP \\(bu 2
Input: DatabaseHost → Output: DATABASEHOST
.IP \\(bu 2
Uses tr '[:lower:]' '[:upper:]'
.RE
.SS Dash to Underscore
.RS
Dashes replaced with underscores:
.IP \\(bu 2
Input: api-key → Output: API_KEY
.IP \\(bu 2
Input: database-host → Output: DATABASE_HOST
.IP \\(bu 2
Uses tr '-' '_'
.RE
.SS Combined Transformation
.RS
Lowercase with dashes becomes uppercase with underscores:
.EX
Input:  my-var-name
Output: MY_VAR_NAME='${ENV_MY_VAR_NAME:-$MY_VAR_NAME}'
.EE
.RE
.SH OUTPUT FORMAT
How gen-vars generates variable declarations:
.SS Standard Format
.RS
Default variable declaration format:
.EX
VARIABLE_NAME='${ENV_VARIABLE_NAME:-$VARIABLE_NAME}'
.EE
.IP \\(bu 2
Variable name in uppercase with underscores
.IP \\(bu 2
ENV_ prefix for environment variable fallback
.IP \\(bu 2
Original variable name as default value
.IP \\(bu 2
Bash parameter expansion ${VAR:-default} syntax
.RE
.SS Prefix Format
.RS
With GEN_VARS_PREFIX environment variable:
.EX
export GEN_VARS_PREFIX="APP"
gen-vars myvar

Output:
APP_MYVAR='${ENV_MYVAR:-$MYVAR}'
.EE
.RE
.SS Suffix Format
.RS
With GEN_VARS_SUFFIX environment variable:
.EX
export GEN_VARS_SUFFIX="CONFIG"
gen-vars myvar

Output:
MYVAR_CONFIG='${ENV_MYVAR:-$MYVAR}'
.EE
.RE
.SS Delimiter Lines
.RS
Output includes delimiter lines:
.EX
# - - - - - - - - - - - - - - - - - - - - - - - - -
VARIABLE1='${ENV_VARIABLE1:-$VARIABLE1}'
VARIABLE2='${ENV_VARIABLE2:-$VARIABLE2}'
# - - - - - - - - - - - - - - - - - - - - - - - - -
.EE
.RE
.SH EXAMPLES
.TP
.B printenv | gen-vars
Generate variable declarations from current environment
.TP
.B cat .env | gen-vars
Convert .env file to bash variable declarations
.TP
.B gen-vars DATABASE_HOST API_KEY SECRET_TOKEN
Generate declarations for specified variables
.TP
.B gen-vars ~/.bashrc
Extract and normalize variables from bashrc file
.TP
.B export GEN_VARS_PREFIX="APP" && gen-vars config.env
Generate variables with APP_ prefix
.TP
.B export GEN_VARS_SUFFIX="VAR" && cat vars.txt | gen-vars
Generate variables with _VAR suffix
.TP
.B gen-vars myapp-config > app-vars.sh
Redirect output to file for sourcing
.TP
.B echo "database-host" | gen-vars
Generate single variable from echo
.SH FILES
.TP
.B ~/.config/myscripts/gen-vars/settings.conf
User configuration file
.TP
.B ~/.local/share/myscripts/gen-vars/backups/
Configuration backup directory
.TP
.B ~/.local/log/gen-vars/
Log file directory
.TP
.B ~/.local/tmp/system_scripts/gen-vars/
Temporary files directory
.TP
.B ~/.cache/gen-vars/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B GEN_VARS_PREFIX
Add prefix to all generated variable names (e.g., "APP" → APP_VARIABLE)
.TP
.B GEN_VARS_SUFFIX
Add suffix to all generated variable names (e.g., "CONFIG" → VARIABLE_CONFIG)
.TP
.B GEN_VARS_OUTPUT_COLOR_1
Primary output color code (default: 33 for yellow)
.TP
.B GEN_VARS_OUTPUT_COLOR_2
Secondary output color code (default: 5 for magenta)
.TP
.B GEN_VARS_OUTPUT_COLOR_GOOD
Success message color (default: 2 for green)
.TP
.B GEN_VARS_OUTPUT_COLOR_ERROR
Error message color (default: 1 for red)
.TP
.B GEN_VARS_NOTIFY_ENABLED
Enable desktop notifications (yes/no, default: yes)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/gen-vars/settings.conf supports the following settings:
.PP
.RS 4
.EX
# Variable transformation
GEN_VARS_PREFIX=""
GEN_VARS_SUFFIX=""

# Notification settings
GEN_VARS_NOTIFY_ENABLED="yes"

# Output colorization
GEN_VARS_OUTPUT_COLOR_1="33"
GEN_VARS_OUTPUT_COLOR_2="5"
GEN_VARS_OUTPUT_COLOR_GOOD="2"
GEN_VARS_OUTPUT_COLOR_ERROR="1"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - variable generation completed successfully
.TP
.B 1
Error - invalid input or processing failed
.TP
.B 3
Error - bash command not found
.SH NOTES
.IP \\(bu 2
Variable names normalized to uppercase with underscores
.IP \\(bu 2
Dashes automatically converted to underscores
.IP \\(bu 2
ENV_ prefix added for environment variable fallback
.IP \\(bu 2
Comments and empty lines filtered from input
.IP \\(bu 2
Whitespace trimmed from variable names
.IP \\(bu 2
Output includes delimiter lines for clarity
.IP \\(bu 2
Prefix and suffix options are mutually exclusive
.IP \\(bu 2
Works with pipes, files, and command-line arguments
.SH TIPS
.SS Environment Variable Wrappers
.RS
.EX
# Generate wrappers for .env file
cat .env | gen-vars > app-vars.sh
source app-vars.sh

# Variables now have ENV_ fallback
# If ENV_DATABASE_HOST is set, use it
# Otherwise fall back to DATABASE_HOST value
.EE
.RE
.SS Configuration File Conversion
.RS
.EX
# Convert config.ini to bash variables
grep '=' config.ini | gen-vars > config.sh
source config.sh
.EE
.RE
.SS Namespace Variables
.RS
.EX
# Add APP_ prefix to all variables
export GEN_VARS_PREFIX="APP"
cat config.env | gen-vars > app-config.sh

# Result: APP_DATABASE_HOST, APP_API_KEY, etc.
.EE
.RE
.SH USE CASES
.SS Script Configuration
.RS
.IP \\(bu 2
Generate variable declarations from configuration files
.IP \\(bu 2
Create environment variable wrappers with fallbacks
.IP \\(bu 2
Standardize variable naming across scripts
.IP \\(bu 2
Convert .env files to bash variable declarations
.IP \\(bu 2
Automate boilerplate code generation
.RE
.SS Environment Management
.RS
.IP \\(bu 2
Extract environment variables from running processes
.IP \\(bu 2
Normalize environment variable names
.IP \\(bu 2
Create configuration snapshots
.IP \\(bu 2
Generate variable documentation
.IP \\(bu 2
Convert between configuration formats
.RE
.SS Development Workflows
.RS
.IP \\(bu 2
Generate script headers with variable declarations
.IP \\(bu 2
Create configuration templates
.IP \\(bu 2
Standardize variable naming conventions
.IP \\(bu 2
Automate variable wrapper generation
.IP \\(bu 2
Document expected environment variables
.RE
.SH TROUBLESHOOTING
.SS No Output Generated
.RS
.IP \\(bu 2
Check if input contains '=' character
.IP \\(bu 2
Verify stdin is actually a pipe: [ -p /dev/stdin ]
.IP \\(bu 2
Ensure file exists and is readable
.IP \\(bu 2
Check for comments or empty lines only
.IP \\(bu 2
Use --debug for verbose output
.RE
.SS Incorrect Variable Names
.RS
.IP \\(bu 2
Verify input format: var=value or just var
.IP \\(bu 2
Check for special characters in variable names
.IP \\(bu 2
Ensure proper quoting of arguments
.IP \\(bu 2
Review transformation rules (uppercase, dash→underscore)
.RE
.SS Prefix/Suffix Not Applied
.RS
.IP \\(bu 2
Export GEN_VARS_PREFIX or GEN_VARS_SUFFIX before running
.IP \\(bu 2
Verify environment variable is set: echo $GEN_VARS_PREFIX
.IP \\(bu 2
Only use one of prefix or suffix (mutually exclusive)
.IP \\(bu 2
Check spelling of environment variable names
.RE
.SH INTEGRATION
.SS With Docker
.RS
.EX
# Generate variables from Docker environment
docker exec container printenv | gen-vars > container-vars.sh
.EE
.RE
.SS With Configuration Management
.RS
.EX
# Convert Ansible vars to bash
ansible -m debug -a "var=hostvars[inventory_hostname]" | gen-vars
.EE
.RE
.SS With CI/CD
.RS
.EX
# Generate variables from CI environment
gen-vars $CI_PROJECT_DIR/.env > ci-vars.sh
source ci-vars.sh
.EE
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \\(bu 2
bash - Bash shell for script execution
.IP \\(bu 2
grep - Pattern matching for variable extraction
.IP \\(bu 2
sed - Stream editor for text processing
.IP \\(bu 2
awk - Text processing for field extraction
.IP \\(bu 2
tr - Character translation (case conversion, dash replacement)
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \\(co 2023 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR bash (1),
.BR grep (1),
.BR sed (1),
.BR awk (1),
.BR tr (1),
.BR printenv (1)
.PP
Bash Parameter Expansion:
.br
https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html
