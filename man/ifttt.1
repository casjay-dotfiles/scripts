.TH IFTTT "1" "December 2025" "ifttt 202208102131-git" "User Commands"
.SH NAME
ifttt \- IFTTT webhook client for sending automated triggers
.SH SYNOPSIS
.B ifttt
.I VALUE1 VALUE2
[\fI\,VALUE3\fR] [\fI\,WEBHOOK_NAME\fR] [\fI\,OPTIONS\fR]
.SH DESCRIPTION
.B ifttt
is a command-line webhook client for IFTTT (If This Then That) automation platform that sends HTTP POST requests with JSON payloads to trigger automated workflows and applets. It provides simple message sending via IFTTT Maker Webhooks service with configurable webhook names, multi-value data payloads, and success verification.
.PP
The script simplifies IFTTT integration by providing webhook trigger execution via HTTP POST, JSON payload construction (up to 3 values), configurable webhook names and access tokens, automatic success verification (Congratulations! response check), environment variable configuration support, and command-line interface for automation workflows.
.PP
ifttt is particularly useful for shell script automation triggering IFTTT applets, system monitoring and alert notifications, build system success/failure notifications, scheduled task completion alerts, IoT and home automation integration, and notification delivery to mobile devices and services.
.SH USAGE
.B ifttt "Build complete" "Success"
.PP
Send two-value message to default webhook.
.PP
.B ifttt "System" "CPU at 90%" "Warning" alert
.PP
Send three-value message to "alert" webhook.
.PP
.B ifttt "Test" "Hello World" testWebhook
.PP
Send to custom webhook name.
.SH ARGUMENTS
.TP
.B VALUE1
First value for webhook payload (required)
.TP
.B VALUE2
Second value for webhook payload (required)
.TP
.B VALUE3
Third value for webhook payload (optional)
.TP
.B WEBHOOK_NAME
Custom webhook name (optional - defaults to IFTTT_DEFAULT_WEBHOOK)
.PP
Argument patterns:
.EX
2 args: VALUE1 VALUE2 (uses default webhook)
3 args: VALUE1 VALUE2 VALUE3 or VALUE1 VALUE2 WEBHOOK_NAME
4 args: VALUE1 VALUE2 VALUE3 WEBHOOK_NAME
.EE
.SH OPTIONS
.TP
.BR \-\-help
Display help message with usage information
.TP
.BR \-\-config
Generate or regenerate user configuration file
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options
.TP
.BR \-\-debug
Enable debug mode with verbose output
.TP
.BR \-\-raw
Disable colorized output for plain text display
.TP
.BR \-\-silent
Suppress desktop notifications
.TP
.BR \-\-dir " " \fI\,DIRECTORY\fR
Set working directory
.SH WEBHOOK CONFIGURATION
How ifttt connects to IFTTT Maker Webhooks service:
.SS Access Token Setup
.RS
Obtain webhook key from IFTTT:
.EX
1. Visit https://ifttt.com/maker_webhooks/settings
2. Copy your webhook key (long alphanumeric string)
3. Export as environment variable:
   export IFTTT_ACCESS_TOKEN="your_webhook_key_here"
4. Or add to configuration file:
   ~/.config/myscripts/ifttt/settings.conf
.EE
.IP \(bu 2
Required for all webhook requests
.IP \(bu 2
Unique per IFTTT account
.IP \(bu 2
Authenticates webhook triggers
.IP \(bu 2
Script exits if not set
.RE
.SS Webhook Name
.RS
Default webhook name configuration:
.EX
# In config file or environment
IFTTT_DEFAULT_WEBHOOK="shellScript"
.EE
.IP \(bu 2
Used when webhook name not specified
.IP \(bu 2
Must match IFTTT applet trigger name
.IP \(bu 2
Can override per invocation
.IP \(bu 2
Case-sensitive
.RE
.SS Server Address
.RS
.EX
IFTTT_SERVER_ADDRESS="https://maker.ifttt.com"
.EE
.IP \(bu 2
Default: https://maker.ifttt.com
.IP \(bu 2
IFTTT Maker Webhooks service endpoint
.IP \(bu 2
Uses HTTPS for secure transmission
.IP \(bu 2
Typically no need to change
.RE
.SH WEBHOOK EXECUTION
How ifttt sends webhook triggers:
.SS Request Construction
.RS
.EX
__send() {
  webhook_value1="$1"
  webhook_value2="$2"
  webhook_value3="$3"
  webhook_name="${4:-$IFTTT_DEFAULT_WEBHOOK}"

  data="{\\\"value1\\\": \\\"${webhook_value1}\\\", \\\"value2\\\": \\\"${webhook_value2}\\\"}"
  # or with value3:
  data="{\\\"value1\\\": \\\"${webhook_value1}\\\", \\\"value2\\\": \\\"${webhook_value2}\\\", \\\"value3\\\": \\\"${webhook_value3}\\\"}"
}
.EE
.IP \(bu 2
JSON payload with value1, value2, optionally value3
.IP \(bu 2
Webhook name from argument or default
.IP \(bu 2
Values passed as strings
.IP \(bu 2
Proper JSON escaping
.RE
.SS HTTP POST Request
.RS
.EX
curl -q -LSsf -X POST -H "Content-Type: application/json" \\\\
  -d "$data" \\\\
  "$IFTTT_SERVER_ADDRESS/trigger/${webhook_name}/with/key/$IFTTT_ACCESS_TOKEN"
.EE
.IP \(bu 2
POST method with JSON content type
.IP \(bu 2
URL format: /trigger/WEBHOOK_NAME/with/key/ACCESS_TOKEN
.IP \(bu 2
Silent mode (-s) with show error (-S)
.IP \(bu 2
Follow redirects (-L)
.RE
.SS Success Verification
.RS
.EX
curl ... | grep -q 'Congratulations!' && return 0 || return 1
.EE
.IP \(bu 2
IFTTT returns "Congratulations!" on success
.IP \(bu 2
Grep checks response for success message
.IP \(bu 2
Returns 0 on success, 1 on failure
.IP \(bu 2
Desktop notification based on result
.RE
.SH DATA PAYLOAD
How ifttt structures webhook data:
.SS Two-Value Payload
.RS
.EX
{
  "value1": "First value",
  "value2": "Second value"
}
.EE
.IP \(bu 2
Minimum required arguments (2)
.IP \(bu 2
Value3 omitted from JSON
.IP \(bu 2
Used with 2 or 3 total arguments
.RE
.SS Three-Value Payload
.RS
.EX
{
  "value1": "System alert",
  "value2": "CPU usage high",
  "value3": "90% utilization"
}
.EE
.IP \(bu 2
Maximum data payload (3 values)
.IP \(bu 2
All three values in JSON
.IP \(bu 2
Used with 3 or 4 total arguments
.RE
.SS Value Mapping
.RS
IFTTT applet can access values as:
.IP \(bu 2
.B {{Value1}}
\- First webhook value
.IP \(bu 2
.B {{Value2}}
\- Second webhook value
.IP \(bu 2
.B {{Value3}}
\- Third webhook value
.IP \(bu 2
Used in applet action configuration
.IP \(bu 2
Available in notification text, emails, etc.
.RE
.SH NOTIFICATIONS
How ifttt provides feedback:
.SS Success Notification
.RS
.EX
if __send "$@"; then
  __notifications "Your message has been sent"
  exitCode=0
fi
.EE
.IP \(bu 2
Desktop notification on successful send
.IP \(bu 2
Confirms webhook triggered
.IP \(bu 2
Exit code 0
.RE
.SS Failure Notification
.RS
.EX
else
  __notifications "Failed to send your message"
  exitCode=1
fi
.EE
.IP \(bu 2
Desktop notification on send failure
.IP \(bu 2
Indicates network error or invalid response
.IP \(bu 2
Exit code 1
.RE
.SS Notification Control
.RS
Environment variables:
.IP \(bu 2
.B IFTTT_NOTIFY_ENABLED="yes"
\- Enable desktop notifications
.IP \(bu 2
.B --silent
option - Suppress notifications
.IP \(bu 2
.B SEND_NOTIFICATION="no"
\- Runtime disable
.RE
.SH EXAMPLES
.TP
.B ifttt "Build" "Success"
Send two-value notification to default webhook
.TP
.B ifttt "Alert" "Disk usage critical" "95%" diskAlert
Send three values to "diskAlert" webhook
.TP
.B ifttt "Backup" "Completed" backupNotify
Two values to custom "backupNotify" webhook
.TP
.B ifttt "Error" "Database connection failed" "Check logs" alert
Three-value error notification
.TP
.B export IFTTT_ACCESS_TOKEN="abc123..." && ifttt "Test" "Works"
Set token and send test message
.TP
.B ifttt "System" "Reboot required" systemNotice
System administration notification
.TP
.B [ -f backup.tar.gz ] && ifttt "Backup" "File created" || ifttt "Backup" "Failed"
Conditional notification based on operation
.TP
.B ifttt --silent "Log" "Event occurred"
Send without desktop notification
.SH FILES
.TP
.B ~/.config/myscripts/ifttt/settings.conf
User configuration file (stores access token and defaults)
.TP
.B ~/.local/share/myscripts/ifttt/backups/
Configuration backup directory
.TP
.B ~/.local/log/ifttt/
Log file directory
.TP
.B ~/.local/tmp/system_scripts/ifttt/
Temporary files directory
.TP
.B ~/.cache/ifttt/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B IFTTT_ACCESS_TOKEN
Webhook access key from IFTTT (required - no default)
.TP
.B IFTTT_DEFAULT_WEBHOOK
Default webhook name (default: shellScript)
.TP
.B IFTTT_SERVER_ADDRESS
IFTTT server URL (default: https://maker.ifttt.com)
.TP
.B IFTTT_NOTIFY_ENABLED
Enable/disable desktop notifications (default: yes)
.TP
.B IFTTT_SILENT
Suppress all notifications when set to "true"
.TP
.B SEND_NOTIFICATION
Runtime notification control (set to "no" to disable)
.TP
.B IFTTT_NOTIFY_CLIENT_NAME
Application name for notifications (default: ifttt)
.TP
.B IFTTT_NOTIFY_CLIENT_ICON
Icon for notifications (default: notification-new)
.TP
.B IFTTT_NOTIFY_CLIENT_URGENCY
Notification urgency level (default: normal)
.TP
.B IFTTT_GOOD_NAME
Success notification title (default: Great:)
.TP
.B IFTTT_ERROR_NAME
Error notification title (default: Error:)
.TP
.B IFTTT_GOOD_MESSAGE
Success message text (default: No errors reported)
.TP
.B IFTTT_ERROR_MESSAGE
Error message text (default: Errors were reported)
.TP
.B IFTTT_OUTPUT_COLOR_1
Primary output color code (default: 33 for yellow)
.TP
.B IFTTT_OUTPUT_COLOR_2
Secondary output color code (default: 5 for magenta)
.TP
.B IFTTT_OUTPUT_COLOR_GOOD
Success message color (default: 2 for green)
.TP
.B IFTTT_OUTPUT_COLOR_ERROR
Error message color (default: 1 for red)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/ifttt/settings.conf supports the following settings:
.PP
.RS 4
.EX
# IFTTT Webhook Configuration
IFTTT_DEFAULT_WEBHOOK="shellScript"
IFTTT_SERVER_ADDRESS="https://maker.ifttt.com"
IFTTT_ACCESS_TOKEN="your_webhook_key_here"

# Notification settings
IFTTT_NOTIFY_ENABLED="yes"
IFTTT_GOOD_NAME="Great:"
IFTTT_ERROR_NAME="Error:"
IFTTT_GOOD_MESSAGE="No errors reported"
IFTTT_ERROR_MESSAGE="Errors were reported"
IFTTT_NOTIFY_CLIENT_NAME="ifttt"
IFTTT_NOTIFY_CLIENT_ICON="notification-new"
IFTTT_NOTIFY_CLIENT_URGENCY="normal"

# Output colorization
IFTTT_OUTPUT_COLOR_1="33"
IFTTT_OUTPUT_COLOR_2="5"
IFTTT_OUTPUT_COLOR_GOOD="2"
IFTTT_OUTPUT_COLOR_ERROR="1"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - webhook triggered successfully
.TP
.B 1
Error - webhook trigger failed or network error
.SH NOTES
.IP \(bu 2
Requires IFTTT_ACCESS_TOKEN environment variable
.IP \(bu 2
Script exits if access token not set
.IP \(bu 2
Minimum 2 arguments, maximum 4 arguments
.IP \(bu 2
Success verified by "Congratulations!" response
.IP \(bu 2
Values sent as JSON strings
.IP \(bu 2
Webhook names are case-sensitive
.IP \(bu 2
Requires internet connectivity
.IP \(bu 2
Desktop notifications via notifications command
.SH TIPS
.SS Getting Started
.RS
.EX
# 1. Get webhook key from IFTTT
Visit: https://ifttt.com/maker_webhooks/settings
Copy your webhook key

# 2. Configure access token
export IFTTT_ACCESS_TOKEN="your_key_here"

# 3. Create IFTTT applet
- Trigger: Webhooks (Receive a web request)
- Event name: shellScript (or custom name)
- Action: Any service (notifications, email, etc.)

# 4. Test webhook
ifttt "Test" "Hello from command line"
.EE
.RE
.SS Build Notifications
.RS
.EX
# Successful build
if make && make install; then
  ifttt "Build" "Success: MyApp v1.0" buildNotify
else
  ifttt "Build" "Failed: Check logs" buildNotify
fi
.EE
.RE
.SS System Monitoring
.RS
.EX
# Disk space check
usage=$(df -h / | awk 'NR==2 {print $5}' | sed 's/%//')
if [ "$usage" -gt 90 ]; then
  ifttt "Disk Alert" "Usage: ${usage}%" "Critical" diskAlert
fi

# Process monitoring
if ! pgrep -x nginx > /dev/null; then
  ifttt "Service" "nginx is down" "Restart required" serviceAlert
fi
.EE
.RE
.SS Backup Completion
.RS
.EX
# Backup script
backup_file="/backups/daily-$(date +%Y%m%d).tar.gz"
if tar czf "$backup_file" /data; then
  size=$(du -h "$backup_file" | cut -f1)
  ifttt "Backup" "Success" "Size: $size" backupNotify
else
  ifttt "Backup" "Failed" "Check disk space" backupNotify
fi
.EE
.RE
.SS Scheduled Tasks
.RS
.EX
# Cron job completion
0 2 * * * /scripts/maintenance.sh && ifttt "Maintenance" "Completed" "$(date)" cronNotify

# Long-running task
./long-process.sh
ifttt "Process" "Completed after $(uptime -p)" processNotify
.EE
.RE
.SH USE CASES
.SS Automation Workflows
.RS
.IP \(bu 2
Trigger IFTTT applets from shell scripts
.IP \(bu 2
Build and deployment notifications
.IP \(bu 2
System maintenance completion alerts
.IP \(bu 2
Scheduled task status updates
.IP \(bu 2
Process completion notifications
.RE
.SS System Monitoring
.RS
.IP \(bu 2
Disk space and resource alerts
.IP \(bu 2
Service availability notifications
.IP \(bu 2
Security event notifications
.IP \(bu 2
Log file pattern matching alerts
.IP \(bu 2
Performance threshold warnings
.RE
.SS IoT Integration
.RS
.IP \(bu 2
Home automation event triggers
.IP \(bu 2
Smart device status updates
.IP \(bu 2
Sensor data threshold alerts
.IP \(bu 2
Environmental monitoring notifications
.IP \(bu 2
Device state change notifications
.RE
.SS Mobile Notifications
.RS
.IP \(bu 2
Send notifications to mobile devices
.IP \(bu 2
SMS alerts via IFTTT services
.IP \(bu 2
Push notifications to apps
.IP \(bu 2
Email alerts via IFTTT
.IP \(bu 2
Voice assistant integrations
.RE
.SH TROUBLESHOOTING
.SS Access Token Not Set
.RS
If error: "Please set the variable IFTTT_ACCESS_TOKEN with your ifttt api key"
.IP \(bu 2
Export IFTTT_ACCESS_TOKEN environment variable
.IP \(bu 2
Or add to configuration file
.IP \(bu 2
Get key from https://ifttt.com/maker_webhooks/settings
.IP \(bu 2
Ensure no extra spaces or quotes
.RE
.SS Webhook Not Triggering
.RS
.IP \(bu 2
Verify webhook name matches IFTTT applet
.IP \(bu 2
Check webhook names are case-sensitive
.IP \(bu 2
Ensure IFTTT applet is enabled
.IP \(bu 2
Test with IFTTT web interface first
.IP \(bu 2
Check internet connectivity
.RE
.SS Failed to Send Message
.RS
.IP \(bu 2
Check IFTTT_ACCESS_TOKEN is correct
.IP \(bu 2
Verify network connectivity: ping maker.ifttt.com
.IP \(bu 2
Check firewall allows HTTPS to maker.ifttt.com
.IP \(bu 2
Ensure curl is installed and working
.IP \(bu 2
Test with --debug for verbose output
.RE
.SS Too Many Arguments
.RS
If error: "To many options sent"
.IP \(bu 2
Maximum 4 arguments allowed
.IP \(bu 2
Format: VALUE1 VALUE2 [VALUE3] [WEBHOOK_NAME]
.IP \(bu 2
Quote values with spaces: ifttt "My Title" "My Message"
.IP \(bu 2
Check for unintended extra arguments
.RE
.SH INTEGRATION
.SS With IFTTT Applets
.RS
.EX
# Create applet with Webhook trigger
Trigger: Webhooks - Receive a web request
Event name: myWebhook

Action: Notifications - Send notification
Message: {{Value1}} - {{Value2}}

# Use from shell
ifttt "Alert" "CPU usage high" myWebhook
.EE
.RE
.SS With Cron Jobs
.RS
.EX
# Daily backup notification
0 3 * * * /scripts/backup.sh && ifttt "Backup" "Success: $(date +\\%Y-\\%m-\\%d)" backupNotify

# Hourly monitoring
0 * * * * /scripts/check-services.sh || ifttt "Alert" "Service check failed" serviceAlert
.EE
.RE
.SS With CI/CD
.RS
.EX
# GitLab CI
after_script:
  - if [ "$CI_JOB_STATUS" = "success" ]; then
      ifttt "Build" "Success: $CI_PROJECT_NAME" ciNotify
    else
      ifttt "Build" "Failed: $CI_PROJECT_NAME" ciNotify
    fi
.EE
.RE
.SH IFTTT APPLET SETUP
.SS Create Webhook Applet
.RS
.IP 1. 3
Visit https://ifttt.com/create
.IP 2. 3
Choose "Webhooks" as trigger service
.IP 3. 3
Select "Receive a web request" trigger
.IP 4. 3
Enter event name (webhook name)
.IP 5. 3
Choose action service (Notifications, Email, etc.)
.IP 6. 3
Configure action with {{Value1}}, {{Value2}}, {{Value3}}
.IP 7. 3
Save and enable applet
.RE
.SS Get Webhook Key
.RS
.IP 1. 3
Visit https://ifttt.com/maker_webhooks/settings
.IP 2. 3
Copy webhook key (URL shows: https://maker.ifttt.com/use/YOUR_KEY)
.IP 3. 3
Export as IFTTT_ACCESS_TOKEN
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
curl - HTTP client for webhook requests
.IP \(bu 2
grep - Pattern matching for success verification
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
notifications - Desktop notification system
.IP \(bu 2
Internet connectivity - Required for IFTTT access
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR curl (1),
.BR grep (1)
.PP
IFTTT Maker Webhooks Documentation:
.br
https://ifttt.com/maker_webhooks
.PP
IFTTT Maker Webhooks Settings:
.br
https://ifttt.com/maker_webhooks/settings
