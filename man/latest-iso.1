.TH LATEST-ISO "1" "December 2025" "latest-iso 202511241430-git" "User Commands"
.SH NAME
latest-iso \- Find and download the latest ISO for a given Linux distribution
.SH SYNOPSIS
.B latest-iso
[\fI\,DISTRO\fR] [\fI\,OPTIONS\fR]
.PP
.B latest-iso
.B iso
\fI\,URL\fR \fI\,NAME.iso\fR
.SH DESCRIPTION
.B latest-iso
is an automated Linux distribution ISO downloader that finds and downloads the latest ISO images from official distribution websites. It supports 30+ Linux distributions with automatic version detection, multi-architecture support (x86_64, aarch64, arm, i386), SourceForge project integration, compressed archive extraction, progress tracking with file size verification, disk space validation before download, and desktop notification integration.
.PP
The script simplifies ISO acquisition by providing automated latest version discovery from distro mirrors, intelligent architecture matching to system, web scraping with HTML parsing for ISO links, HTTP HEAD requests for file size verification, curl-based downloads with retry logic, automatic extraction of compressed ISOs (.tar.gz, .gz, .bz2, .zip), configurable distribution flavors (minimal, XFCE, etc.), and force overwrite capability.
.PP
latest-iso is particularly useful for maintaining up-to-date installation media, downloading ISOs for virtualization and testing, acquiring multiple distribution ISOs efficiently, automating ISO collection for PXE boot servers, and keeping bootable USB drives current.
.SH DISTRIBUTIONS
Supported Linux distributions:
.TP
.B alma
AlmaLinux - RHEL clone
.TP
.B alpine
Alpine Linux - Lightweight distribution
.TP
.B arch
Arch Linux - Rolling release
.TP
.B archcraft
Archcraft - Lightweight Arch-based
.TP
.B arco
ArcoLinux - Arch-based with desktop environments
.TP
.B blackarch
BlackArch - Penetration testing and security research
.TP
.B cachy
CachyOS - Performance-optimized Arch-based
.TP
.B centos
CentOS - Community RHEL rebuild
.TP
.B clear
Clear Linux - Intel-optimized distribution
.TP
.B debian
Debian - Universal operating system
.TP
.B endeavour
EndeavourOS - User-friendly Arch-based
.TP
.B fedora
Fedora - Red Hat sponsored distribution
.TP
.B flatcar
Flatcar Container Linux - CoreOS successor
.TP
.B freenas
FreeNAS - Network attached storage OS
.TP
.B garuda
Garuda Linux - Gaming-focused Arch-based
.TP
.B heads
Heads - Security-focused firmware
.TP
.B kali
Kali Linux - Penetration testing platform
.TP
.B manjaro
Manjaro - User-friendly Arch-based
.TP
.B nixos
NixOS - Purely functional package management
.TP
.B opensuse
openSUSE - Community SUSE distribution
.TP
.B openvz
OpenVZ - Container-based virtualization
.TP
.B parrot
Parrot OS - Security and privacy platform
.TP
.B peppermint
Peppermint OS - Lightweight Debian/Ubuntu-based
.TP
.B pfsense
pfSense - Firewall and router platform
.TP
.B photon
VMware Photon OS - Container host
.TP
.B proxmox
Proxmox VE - Virtualization platform
.TP
.B redcore
Redcore Linux - Gentoo-based
.TP
.B rocky
Rocky Linux - Community RHEL rebuild
.TP
.B ubuntu
Ubuntu - Debian-based user-friendly distribution
.TP
.B void
Void Linux - Independent rolling release
.TP
.B tails
Tails - Privacy and anonymity OS
.TP
.B tiny
Tiny Core Linux - Minimal distribution
.SH OPTIONS
.TP
.BR \-\-all
Download ISOs for all supported distributions
.TP
.BR \-\-force
Force overwriting of existing ISO files
.TP
.BR \-\-release " " \fI\,VERSION\fR
Set specific release version to download (distro-dependent)
.TP
.BR \-\-dir " " \fI\,DIRECTORY\fR
Set download directory (default: ~/Downloads/ISOs)
.TP
.BR \-\-help
Display help message with usage information
.TP
.BR \-\-config
Generate or regenerate user configuration file
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options
.TP
.BR \-\-debug
Enable debug mode with verbose output
.TP
.BR \-\-raw
Disable colorized output for plain text display
.SH AUTOMATIC ISO DISCOVERY
How latest-iso finds the latest ISO:
.SS Web Scraping
.RS
.EX
# Fetch download page HTML
page_html=$(__curl "$distro_url")

# Extract ISO links with grep and sed
iso_links=$(echo "$page_html" | grep 'href=' | sed 's|.*href="||g;s|".*||g')

# Filter for architecture
arch_iso=$(echo "$iso_links" | grep "$LATEST_ISO_SYSTEM_ARCH")

# Strip HTML tags and extract filename
iso_file=$(echo "$arch_iso" | sed 's|<.*||g' | grep '\.iso$')
.EE
.IP \(bu 2
Fetches distribution download page HTML
.IP \(bu 2
Parses href attributes for ISO links
.IP \(bu 2
Filters by system architecture
.IP \(bu 2
Validates ISO URL with HTTP HEAD request
.IP \(bu 2
Returns latest version URL
.RE
.SS Architecture Detection
.RS
.EX
__get_arch() {
  get_arch=$(uname -m)
  if [[ "$get_arch" =~ x86_64* ]]; then
    echo "x86_64"
  elif [[ "$get_arch" =~ aarch64 ]]; then
    echo "aarch64"
  elif [[ "$get_arch" =~ arm* ]]; then
    echo "$get_arch"
  fi
}
.EE
.IP \(bu 2
Detects system architecture with uname
.IP \(bu 2
Maps to standard architecture names
.IP \(bu 2
Filters ISOs matching system architecture
.IP \(bu 2
Supports: x86_64 (amd64), aarch64 (arm64), arm, i386
.IP \(bu 2
Falls back to x86_64 if unknown
.RE
.SS SourceForge Integration
.RS
.EX
__sourceforge() {
  # Fetch project file listing
  file_dirs="$1/files/$2"

  # Get latest stable directory
  get_dirs=$(__curl "https://sourceforge.net/projects/$file_dirs" | jq -rc '.[]|.name' | grep -E 'stable|[0-9].[0-9]' | sort -rV | head -n1)

  # Get ISOs from latest directory
  get_isos=$(__curl "https://sourceforge.net/projects/$file_dirs/$get_dirs" | jq -rc '.[]|.name' | grep 'iso$')

  # Filter by architecture
  get_isos=$(__test_arch "$get_isos")

  echo "https://sourceforge.net/projects/$file_dirs/$get_dirs/$get_isos"
}
.EE
.IP \(bu 2
Uses SourceForge JSON API for file listings
.IP \(bu 2
Identifies latest stable release directory
.IP \(bu 2
Filters ISO files by architecture
.IP \(bu 2
Constructs download URL
.IP \(bu 2
Supports version sorting with sort -rV
.RE
.SH DOWNLOAD PROCESS
How latest-iso downloads and verifies ISOs:
.SS Download Workflow
.RS
.EX
1. Discover latest ISO URL
2. Get remote file size via HTTP HEAD
3. Check local disk space
4. Verify URL is valid (HTTP 200)
5. Check if file already exists
6. Download with curl (retry logic)
7. Verify file size matches
8. Extract if compressed (.tar.gz, .gz, etc.)
9. Send notification on completion
.EE
.RE
.SS File Size Verification
.RS
.EX
# Get remote file size
__remote_filesize() {
  remote_file_size_raw=$(__curl -sI "$1" | grep -i content-length | awk '{print $2}' | tr -d '\r')
  remote_filesize=$(numfmt --to=iec-i --suffix=B "$remote_file_size_raw")
}

# Get local file size
__filesize_local() {
  local_file_size_raw=$(stat -c%s "$1" 2>/dev/null)
  local_file_size=$(numfmt --to=iec-i --suffix=B "$local_file_size_raw")
}

# Compare sizes
__verify_filesizes() {
  [ "$1" = "$2" ] && return 0 || return 1
}
.EE
.IP \(bu 2
HTTP HEAD request for remote file size
.IP \(bu 2
stat command for local file size
.IP \(bu 2
numfmt for human-readable size formatting
.IP \(bu 2
Byte-level comparison for verification
.IP \(bu 2
Fails download if sizes don't match
.RE
.SS Disk Space Checking
.RS
.EX
__check_disk_space() {
  local dir="$1"
  local needed_bytes="$2"
  local available=$(df -B1 "$dir" | tail -1 | awk '{print $4}')

  if [ "$available" -lt "$needed_bytes" ]; then
    LATEST_ISO_SPACE_ERROR="Insufficient disk space (need $remote_filesize, have $(numfmt --to=iec-i --suffix=B $available))"
    return 1
  fi
  return 0
}
.EE
.IP \(bu 2
Uses df to check available space
.IP \(bu 2
Compares with remote file size
.IP \(bu 2
Prevents partial downloads from disk full
.IP \(bu 2
Shows clear error message with space details
.RE
.SS Curl Download Options
.RS
.EX
__curl() {
  \\curl -q -LSsf \\
    --fail-early \\
    --connect-timeout 2 \\
    --retry 5 \\
    --retry-delay 3 \\
    "$@" 2>/dev/null || return 1
}
.EE
.IP \(bu 2
-L: Follow redirects
.IP \(bu 2
-S: Show errors
.IP \(bu 2
-s: Silent mode (no progress bar)
.IP \(bu 2
-f: Fail on HTTP errors
.IP \(bu 2
--fail-early: Abort on first error
.IP \(bu 2
--retry 5: Retry up to 5 times
.IP \(bu 2
--retry-delay 3: Wait 3 seconds between retries
.RE
.SS Compressed Archive Extraction
.RS
.EX
__unarchive() {
  local archive="$1"

  if echo "$archive" | grep -qE '\.tar$|\.tar\.gz$|\.tar\.bz2$'; then
    tar xfv "$archive"
  elif echo "$archive" | grep -q '\.gz$'; then
    gzip -fd "$archive"
  elif echo "$archive" | grep -q '\.bz2$'; then
    bzip2 -fd "$archive"
  elif echo "$archive" | grep -q '\.zip$'; then
    unzip "$archive"
  fi
}
.EE
.IP \(bu 2
Detects archive type by file extension
.IP \(bu 2
Extracts with appropriate tool (tar, gzip, bzip2, unzip)
.IP \(bu 2
Finds .iso file within extracted contents
.IP \(bu 2
Moves ISO to final destination
.IP \(bu 2
Cleans up archive and temporary files
.RE
.SH EXAMPLES
.TP
.B latest-iso arch
Download latest Arch Linux ISO for current system architecture
.TP
.B latest-iso ubuntu --dir ~/ISOs
Download latest Ubuntu ISO to ~/ISOs directory
.TP
.B latest-iso fedora --release 39
Download Fedora 39 release (if version-specific)
.TP
.B latest-iso kali --force
Force re-download Kali Linux ISO (overwrite existing)
.TP
.B latest-iso --all
Download latest ISOs for all supported distributions
.TP
.B latest-iso iso https://example.com/distro.iso custom.iso
Download ISO from custom URL with custom filename
.TP
.B latest-iso alma --dir /mnt/usb/ISOs
Download AlmaLinux ISO to USB mount point
.TP
.B latest-iso rocky --debug
Download Rocky Linux with verbose debug output
.SH DISTRIBUTION FLAVORS
Some distributions support flavor selection via configuration:
.SS Configurable Flavors
.RS
.EX
# Configuration file settings
LATEST_ISO_KALI_FLAVOR="live"          # Kali: live, installer, netinstall
LATEST_ISO_FEDORA_FLAVOR="xfce"        # Fedora: xfce, kde, gnome, minimal
LATEST_ISO_GARUDA_FLAVOR="xfce"        # Garuda: xfce, kde, gnome, dr460nized
LATEST_ISO_MANJARO_FLAVOR="xfce"       # Manjaro: xfce, kde, gnome, minimal
LATEST_ISO_PARROT_FLAVOR="security"    # Parrot: security, home, architect
LATEST_ISO_ALMA_FLAVOR="minimal"       # AlmaLinux: minimal, boot, dvd
LATEST_ISO_ROCKY_FLAVOR="minimal"      # Rocky: minimal, boot, dvd
LATEST_ISO_VOID_FLAVOR="xfce"          # Void: xfce, base, minimal
.EE
.IP \(bu 2
Set in configuration file: ~/.config/myscripts/latest-iso/settings.conf
.IP \(bu 2
Affects which variant ISO is downloaded
.IP \(bu 2
Different flavors have different sizes and package sets
.RE
.SH FILES
.TP
.B ~/.config/myscripts/latest-iso/settings.conf
User configuration file (stores preferences and URLs)
.TP
.B ~/Downloads/ISOs/
Default download directory for ISO files
.TP
.B ~/.local/share/myscripts/latest-iso/backups/
Configuration backup directory
.TP
.B ~/.local/log/latest-iso/
Log file directory
.TP
.B ~/.local/log/latest-iso/ex.log
Archive extraction log
.TP
.B ~/.local/log/latest-iso/gui.log
GUI mode download log
.TP
.B ~/.local/tmp/system_scripts/latest-iso/
Temporary files directory (stores compressed archives during extraction)
.TP
.B ~/.cache/latest-iso/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B LATEST_ISO_DOWNLOAD_DIR
Default download directory for ISOs
.TP
.B LATEST_ISO_DOWNLOAD_LIVE_DIR
Directory for live ISOs (separate from installer ISOs)
.TP
.B LATEST_ISO_DOWNLOAD_UTILS_DIR
Directory for utility ISOs (rescue, testing, etc.)
.TP
.B LATEST_ISO_SYSTEM_ARCH
Override system architecture detection (x86_64, aarch64, arm, i386)
.TP
.B LATEST_ISO_FORCE_INST
Force overwrite existing files (set to "true")
.TP
.B LATEST_ISO_OVERWRITE
Allow overwriting existing ISO files ("yes" or "no")
.TP
.B LATEST_ISO_CONNECT_TIMEOUT
curl connection timeout in seconds (default: 2)
.TP
.B LATEST_ISO_RETRY_COUNT
curl retry count (default: 5)
.TP
.B LATEST_ISO_RETRY_DELAY
curl retry delay in seconds (default: 3)
.TP
.B LATEST_ISO_*_URL
Per-distribution custom URL overrides (e.g., LATEST_ISO_UBUNTU_URL)
.TP
.B LATEST_ISO_*_RELEASE
Per-distribution specific release version (e.g., LATEST_ISO_ALMA_RELEASE)
.TP
.B LATEST_ISO_*_FLAVOR
Per-distribution flavor selection (e.g., LATEST_ISO_FEDORA_FLAVOR)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/latest-iso/settings.conf supports the following settings:
.PP
.RS 4
.EX
# Download directories
LATEST_ISO_DOWNLOAD_DIR="$HOME/Downloads/ISOs"
LATEST_ISO_DOWNLOAD_LIVE_DIR="$LATEST_ISO_DOWNLOAD_DIR/live"
LATEST_ISO_DOWNLOAD_UTILS_DIR="$LATEST_ISO_DOWNLOAD_DIR/utils"

# Custom URLs for distributions
LATEST_ISO_UBUNTU_URL="https://releases.ubuntu.com"
LATEST_ISO_ARCH_URL="https://archlinux.org/download"
LATEST_ISO_FEDORA_URL="https://getfedora.org"

# Specific release versions
LATEST_ISO_ALMA_RELEASE="9"
LATEST_ISO_ROCKY_RELEASE="9"
LATEST_ISO_UBUNTU_RELEASE="22.04"

# Distribution flavors
LATEST_ISO_KALI_FLAVOR="live"
LATEST_ISO_FEDORA_FLAVOR="xfce"
LATEST_ISO_GARUDA_FLAVOR="xfce"
LATEST_ISO_MANJARO_FLAVOR="xfce"
LATEST_ISO_PARROT_FLAVOR="security"
LATEST_ISO_ALMA_FLAVOR="minimal"
LATEST_ISO_ROCKY_FLAVOR="minimal"
LATEST_ISO_VOID_FLAVOR="xfce"

# Notification settings
LATEST_ISO_NOTIFY_ENABLED="yes"
LATEST_ISO_GOOD_NAME="Download Complete"
LATEST_ISO_ERROR_NAME="Download Failed"

# Output colorization
LATEST_ISO_OUTPUT_COLOR_1="33"
LATEST_ISO_OUTPUT_COLOR_2="5"
LATEST_ISO_OUTPUT_COLOR_GOOD="2"
LATEST_ISO_OUTPUT_COLOR_ERROR="1"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - ISO downloaded successfully
.TP
.B 1
Error - file size mismatch after download
.TP
.B 2
Error - download failed or file not created
.TP
.B 3
Error - insufficient disk space
.TP
.B 4
Error - invalid ISO URL
.SH NOTES
.IP \(bu 2
Internet connection required
.IP \(bu 2
Requires curl for HTTP downloads
.IP \(bu 2
Requires jq for JSON parsing (SourceForge projects)
.IP \(bu 2
Requires tar, gzip, bzip2, unzip for archive extraction
.IP \(bu 2
ISO discovery depends on distribution website structure
.IP \(bu 2
Website changes may break automatic discovery
.IP \(bu 2
File size verification ensures complete downloads
.IP \(bu 2
Disk space checked before download begins
.IP \(bu 2
Progress indication for large downloads
.IP \(bu 2
Supports force overwrite with --force
.IP \(bu 2
Desktop notifications on completion
.SH TIPS
.SS Batch Downloads
.RS
.EX
# Download multiple distributions
for distro in arch ubuntu fedora; do
  latest-iso "$distro"
done

# Download all distributions
latest-iso --all

# Download to organized directories
latest-iso arch --dir ~/ISOs/arch
latest-iso ubuntu --dir ~/ISOs/ubuntu
.EE
.RE
.SS Custom URLs
.RS
.EX
# Download from custom URL
latest-iso iso https://mirror.example.com/archlinux.iso archlinux.iso

# Download beta/testing releases
latest-iso iso https://cdimage.ubuntu.com/ubuntu-server/daily/current/jammy.iso ubuntu-daily.iso
.EE
.RE
.SS Automation
.RS
.EX
# Cron job to download weekly
0 2 * * 0 latest-iso arch --force

# Script to maintain current ISOs
#!/bin/bash
isos="arch ubuntu fedora debian"
for iso in $isos; do
  latest-iso "$iso" --force --dir /srv/pxe/isos
done
.EE
.RE
.SS Verification
.RS
.EX
# Verify ISO checksum after download
cd ~/Downloads/ISOs
sha256sum -c SHA256SUMS

# Mount ISO to verify contents
sudo mount -o loop archlinux.iso /mnt
ls /mnt
sudo umount /mnt
.EE
.RE
.SH USE CASES
.SS Virtual Machine Testing
.RS
.IP \(bu 2
Download multiple distribution ISOs
.IP \(bu 2
Test different Linux distributions in VMs
.IP \(bu 2
Keep testing environment current
.IP \(bu 2
Automate ISO collection for lab
.RE
.SS PXE Boot Server
.RS
.IP \(bu 2
Maintain up-to-date installation media
.IP \(bu 2
Automated downloads for network boot
.IP \(bu 2
Multiple architecture support
.IP \(bu 2
Scheduled updates via cron
.RE
.SS Bootable USB Drives
.RS
.IP \(bu 2
Download latest ISOs for USB creation
.IP \(bu 2
Keep rescue/recovery media current
.IP \(bu 2
Multi-boot USB with multiple distros
.IP \(bu 2
Live USB testing environments
.RE
.SS Distribution Evaluation
.RS
.IP \(bu 2
Try multiple distributions easily
.IP \(bu 2
Compare different flavors
.IP \(bu 2
Evaluate latest features
.IP \(bu 2
Testing before production deployment
.RE
.SH TROUBLESHOOTING
.SS No ISO Found
.RS
If error: "No iso found on URL"
.IP \(bu 2
Check distribution website is accessible
.IP \(bu 2
Website structure may have changed
.IP \(bu 2
Try custom URL with: latest-iso iso URL FILENAME
.IP \(bu 2
Enable debug mode: latest-iso DISTRO --debug
.IP \(bu 2
Check architecture is supported
.RE
.SS Download Failed
.RS
If error: "Downloading has failed"
.IP \(bu 2
Check internet connectivity
.IP \(bu 2
Verify disk space: df -h
.IP \(bu 2
Check download directory permissions
.IP \(bu 2
Try with --force to overwrite partial download
.IP \(bu 2
Check curl is installed: which curl
.RE
.SS File Size Mismatch
.RS
If error: "file size mismatch"
.IP \(bu 2
Partial download (interrupted)
.IP \(bu 2
Delete partial file and retry
.IP \(bu 2
Check network stability
.IP \(bu 2
Mirror may have updated during download
.IP \(bu 2
Use --force to retry download
.RE
.SS Insufficient Disk Space
.RS
If error: "Insufficient disk space"
.IP \(bu 2
Free up space in download directory
.IP \(bu 2
Change download location: --dir /path/with/space
.IP \(bu 2
Check available space: df -h
.IP \(bu 2
ISOs can be 2-8GB each
.RE
.SS Architecture Mismatch
.RS
If downloaded ISO doesn't match system:
.IP \(bu 2
Override architecture: LATEST_ISO_SYSTEM_ARCH=x86_64 latest-iso DISTRO
.IP \(bu 2
Check uname -m for system architecture
.IP \(bu 2
Some distros may not support all architectures
.IP \(bu 2
Edit configuration for specific architecture
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
curl - HTTP client for downloads and web scraping
.IP \(bu 2
coreutils - stat, df, numfmt commands
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
jq - JSON processor for SourceForge API
.IP \(bu 2
tar - Extract .tar and .tar.gz archives
.IP \(bu 2
gzip - Extract .gz archives
.IP \(bu 2
bzip2 - Extract .bz2 archives
.IP \(bu 2
unzip - Extract .zip archives
.IP \(bu 2
notifications - Desktop notification system
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \\(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR curl (1),
.BR jq (1),
.BR df (1),
.BR tar (1)
.PP
Distribution websites:
.br
https://archlinux.org/download
.br
https://ubuntu.com/download
.br
https://getfedora.org
