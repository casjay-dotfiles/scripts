.TH LATEST-RELEASES "1" "December 2025" "latest-releases 202208121532-git" "User Commands"
.SH NAME
latest-releases \- Download and manage GitHub/GitLab/Gitea releases
.SH SYNOPSIS
.B latest-releases
[\fI\,COMMAND\fR] [\fI\,OPTIONS\fR] [\fI\,ARGUMENTS\fR...]
.SH DESCRIPTION
.B latest-releases
is a comprehensive tool for downloading, installing, and managing the latest releases from GitHub, GitLab, and Gitea repositories. It automatically detects system architecture, downloads appropriate binaries, handles various archive formats with smart extraction, installs executables to user or system directories, tracks multiple repositories for batch operations, and integrates with GitHub/GitLab/Gitea APIs for release discovery.
.PP
The script simplifies binary management by providing automatic architecture detection (x86_64, aarch64, arm), intelligent binary extraction from archives, user and system installation directories, repository tracking for batch updates, GitHub API integration with authentication, GitLab and Gitea custom instance support, filename pattern filtering for downloads, and desktop notification integration.
.PP
latest-releases is particularly useful for installing CLI tools from GitHub releases, keeping development tools up-to-date, managing multiple binary utilities efficiently, automating tool installation in development environments, and installing architecture-specific binaries automatically.
.SH COMMANDS
.TP
.BR add " " \fI\,REPO:BIN:DESC\fR
Add repository to tracking list with optional binary name and description
.TP
.BR remove " " \fI\,REPO\fR
Remove repository from tracking list
.TP
.BR install " " \fI\,USER/REPO\fR
Download and install latest release from GitHub repository
.TP
.BR update " " \fI\,USER/REPO\fR
Update installed package to latest release
.TP
.BR uninstall " " \fI\,NAME\fR
Uninstall package and remove from tracking
.TP
.BR gitea " " \fI\,USER/REPO\fR
Download from Gitea instance (requires LATEST_RELEASE_GITEA_DOMAIN)
.TP
.BR gitlab " " \fI\,USER/REPO\fR
Download from GitLab instance
.TP
.BR info
Show latest version information for all tracked repositories
.TP
.BR list
List all tracked repositories
.TP
.BR search " api " \fI\,QUERY\fR
Search GitHub repositories by name
.TP
.BR search " repo " \fI\,USER\fR
List repositories for a specific user
.TP
.BR search " release " \fI\,USER/REPO\fR
Show all available releases for a repository
.TP
.BR token
Check if GitHub API token is configured
.SH OPTIONS
.TP
.BR \-f ", " \-\-filename " " \fI\,PATTERN\fR
Filter downloads by filename pattern (regex)
.TP
.BR \-t ", " \-\-type " " \fI\,TYPE\fR
Filter downloads by file type (tar.gz, zip, etc.)
.TP
.BR \-b ", " \-\-binname " " \fI\,NAME\fR
Override binary name for installation
.TP
.BR \-\-gitea " " \fI\,DOMAIN\fR
Set Gitea domain for downloads (e.g., gitea.com)
.TP
.BR \-\-gitlab " " \fI\,DOMAIN\fR
Set GitLab domain for downloads (default: https://gitlab.com)
.TP
.BR \-\-dir " " \fI\,PATH\fR
Set working directory for operations
.TP
.BR \-\-force
Force reinstallation of packages (overwrite existing)
.TP
.BR \-\-silent
Suppress non-error output
.TP
.BR \-\-help
Display help message with usage information
.TP
.BR \-\-version
Display script version and exit
.TP
.BR \-\-config
Generate or regenerate user configuration file
.TP
.BR \-\-options
Show all available command-line options
.TP
.BR \-\-debug
Enable debugging output with verbose logging
.TP
.BR \-\-raw
Remove all formatting from output (plain text)
.SH GITHUB API INTEGRATION
How latest-releases uses GitHub API for release discovery:
.SS API Endpoints
.RS
.EX
# Get latest release
https://api.github.com/repos/USER/REPO/releases/latest

# List all releases
https://api.github.com/repos/USER/REPO/releases

# Get specific release
https://api.github.com/repos/USER/REPO/releases/tags/TAG

# Search repositories
https://api.github.com/search/repositories?q=QUERY

# User repositories
https://api.github.com/users/USER/repos
.EE
.IP \(bu 2
Uses GitHub REST API v3
.IP \(bu 2
JSON response parsing with jq
.IP \(bu 2
Supports authenticated and unauthenticated requests
.IP \(bu 2
Rate limiting: 60 req/hour (unauth), 5000 req/hour (auth)
.RE
.SS Authentication
.RS
.EX
# Set GitHub token
export LATEST_RELEASE_GITHUB_TOKEN="ghp_xxxxxxxxxxxx"

# Or in auth file
echo "ghp_xxxxxxxxxxxx" > ~/.config/myscripts/latest-releases/auth.conf

# Token used in API requests
curl -H "Authorization: token $LATEST_RELEASE_GITHUB_TOKEN" \\
  https://api.github.com/repos/USER/REPO/releases/latest
.EE
.IP \(bu 2
Personal access token from https://github.com/settings/tokens
.IP \(bu 2
No special scopes required for public repos
.IP \(bu 2
Stored in auth.conf or environment variable
.IP \(bu 2
Increases rate limit from 60 to 5000 requests/hour
.IP \(bu 2
Required for private repository access
.RE
.SS Release Asset Discovery
.RS
.EX
# API response structure
{
  "tag_name": "v1.2.3",
  "assets": [
    {
      "name": "tool-linux-x86_64.tar.gz",
      "browser_download_url": "https://github.com/.../releases/.../tool-linux-x86_64.tar.gz",
      "size": 12345678
    }
  ]
}

# Asset filtering by architecture
assets=$(jq -r '.assets[] | select(.name | test("linux.*x86_64")) | .browser_download_url')
.EE
.IP \(bu 2
JSON parsing with jq for asset extraction
.IP \(bu 2
Filters assets by architecture pattern
.IP \(bu 2
Extracts browser_download_url for download
.IP \(bu 2
Validates asset exists for current architecture
.RE
.SH ARCHITECTURE DETECTION
How latest-releases detects and matches system architecture:
.SS System Architecture
.RS
.EX
__get_arch() {
  local arch="$(uname -m)"

  case "$arch" in
    x86_64|amd64)
      echo "x86_64"
      ;;
    aarch64|arm64)
      echo "aarch64"
      ;;
    armv7*|armhf)
      echo "arm"
      ;;
    *)
      echo "$arch"
      ;;
  esac
}
.EE
.IP \(bu 2
Uses uname -m for architecture detection
.IP \(bu 2
Normalizes architecture names
.IP \(bu 2
Supports x86_64 (amd64), aarch64 (arm64), arm
.IP \(bu 2
Configurable override with LATEST_RELEASE_DEFAULT_ARCH
.RE
.SS Asset Matching
.RS
.EX
# Asset name patterns by architecture
x86_64: ".*linux.*x86_64.*|.*linux.*amd64.*"
aarch64: ".*linux.*aarch64.*|.*linux.*arm64.*"
arm: ".*linux.*arm.*|.*linux.*armhf.*"

# Filename pattern matching
asset_url=$(echo "$assets" | grep -E "linux.*(x86_64|amd64)" | head -n1)
.EE
.IP \(bu 2
Pattern-based asset name matching
.IP \(bu 2
Supports multiple naming conventions
.IP \(bu 2
Falls back to generic if no arch match
.IP \(bu 2
User can override with --filename pattern
.RE
.SH INSTALLATION PROCESS
How latest-releases downloads and installs binaries:
.SS Download Workflow
.RS
.EX
1. Query GitHub API for latest release
2. Parse JSON response for assets
3. Filter assets by architecture
4. Download archive to temporary directory
5. Extract archive to temporary location
6. Find executable binary in extraction
7. Install binary to target directory
8. Set executable permissions (chmod +x)
9. Clean up temporary files
10. Verify installation with --version
.EE
.RE
.SS Archive Extraction
.RS
.EX
__extract_archive() {
  local archive="$1"
  local extract_dir="$2"

  case "$archive" in
    *.tar.gz|*.tgz)
      tar xzf "$archive" -C "$extract_dir"
      ;;
    *.tar.bz2|*.tbz)
      tar xjf "$archive" -C "$extract_dir"
      ;;
    *.tar.xz|*.txz)
      tar xJf "$archive" -C "$extract_dir"
      ;;
    *.zip)
      unzip -q "$archive" -d "$extract_dir"
      ;;
    *)
      # Assume raw binary
      cp "$archive" "$extract_dir/"
      ;;
  esac
}
.EE
.IP \(bu 2
Supports: tar.gz, tar.bz2, tar.xz, zip
.IP \(bu 2
Handles raw binaries without extraction
.IP \(bu 2
Extracts to temporary directory
.IP \(bu 2
Searches extracted files for executable
.RE
.SS Binary Discovery
.RS
.EX
__find_binary() {
  local extract_dir="$1"
  local binname="${2:-}"

  # Search for executable files
  find "$extract_dir" -type f -executable | while read -r file; do
    # Skip scripts
    file "$file" | grep -q "executable" || continue
    # Prefer matching binname
    [ -n "$binname" ] && basename "$file" | grep -q "$binname" && echo "$file" && break
    # Or first executable found
    echo "$file" && break
  done
}
.EE
.IP \(bu 2
Finds executable files in extraction
.IP \(bu 2
Skips shell scripts and non-binaries
.IP \(bu 2
Matches against --binname if provided
.IP \(bu 2
Uses first executable if no match
.RE
.SS Installation Directories
.RS
.EX
# User installation (default)
LATEST_RELEASES_BIN_DIR_USER="$HOME/.local/bin"

# System installation (requires root)
LATEST_RELEASES_BIN_DIR_SYSTEM="/usr/local/bin"

# Installation logic
if [ "$LATEST_RELEASE_INSTALL_TO_SYSTEM_BIN" = "yes" ]; then
  install_dir="$LATEST_RELEASES_BIN_DIR_SYSTEM"
else
  install_dir="$LATEST_RELEASES_BIN_DIR_USER"
fi

# Install binary
cp "$binary" "$install_dir/" && chmod +x "$install_dir/$(basename "$binary")"
.EE
.IP \(bu 2
Default: User directory (~/.local/bin)
.IP \(bu 2
System: /usr/local/bin (requires sudo)
.IP \(bu 2
Configurable in settings.conf
.IP \(bu 2
Ensures executable permissions
.RE
.SH REPOSITORY TRACKING
How latest-releases tracks and manages multiple repositories:
.SS Tracking File Format
.RS
.EX
# repos.conf format
user/repo:binary_name:Description

# Examples
sharkdp/bat:bat:A cat clone with syntax highlighting
casey/just:just:Command runner and task automation
BurntSushi/ripgrep:rg:Recursive grep utility
.EE
.IP \(bu 2
One repository per line
.IP \(bu 2
Format: REPO:BINARY:DESCRIPTION
.IP \(bu 2
Binary name optional (defaults to repo name)
.IP \(bu 2
Description for reference only
.RE
.SS Batch Operations
.RS
.EX
# Update all tracked repositories
latest-releases update

# Iterate tracked repos
while IFS=: read -r repo binary desc; do
  latest-releases install "$repo" --binname "$binary"
done < ~/.config/myscripts/latest-releases/repos.conf
.EE
.IP \(bu 2
Update command processes all tracked repos
.IP \(bu 2
Checks current version vs latest
.IP \(bu 2
Downloads and installs if outdated
.IP \(bu 2
Skips if already latest version
.RE
.SS Adding and Removing
.RS
.EX
# Add repository with full details
latest-releases add "sharkdp/fd:fd:Fast file finder"

# Add with defaults
latest-releases add "ogham/exa"

# Remove repository
latest-releases remove "sharkdp/bat"

# File manipulation
echo "user/repo:bin:desc" >> ~/.config/myscripts/latest-releases/repos.conf
sed -i '/user\\/repo/d' ~/.config/myscripts/latest-releases/repos.conf
.EE
.IP \(bu 2
Add appends to repos.conf
.IP \(bu 2
Remove deletes matching line
.IP \(bu 2
Manual editing supported
.IP \(bu 2
Validates repository format
.RE
.SH EXAMPLES
.TP
.B latest-releases install sharkdp/bat
Download and install bat (cat alternative) from GitHub
.TP
.B latest-releases add "casey/just:just:Command runner"
Add just to tracking list with description
.TP
.B latest-releases update
Update all tracked repositories to latest versions
.TP
.B latest-releases remove sharkdp/bat
Remove bat from tracking list (does not uninstall)
.TP
.B latest-releases uninstall bat
Uninstall bat binary and remove from tracking
.TP
.B latest-releases search api "rust cli"
Search GitHub for Rust CLI tools
.TP
.B latest-releases search repo sharkdp
List all repositories by user sharkdp
.TP
.B latest-releases gitea username/repo
Download from custom Gitea instance
.TP
.B latest-releases --filename ".*linux.*" install user/repo
Install specific filename pattern
.TP
.B latest-releases --binname custom-name install user/repo
Install binary with custom name
.TP
.B latest-releases info
Show version information for all tracked repos
.TP
.B latest-releases list
List all tracked repositories with descriptions
.SH FILES
.TP
.B ~/.config/myscripts/latest-releases/settings.conf
Configuration file with settings and domain URLs
.TP
.B ~/.config/myscripts/latest-releases/repos.conf
List of tracked repositories for batch operations
.TP
.B ~/.config/myscripts/latest-releases/auth.conf
GitHub authentication token configuration
.TP
.B ~/.local/bin/
Default user binary installation directory
.TP
.B /usr/local/bin/
System-wide binary installation directory (requires sudo)
.TP
.B ~/Downloads/Latest/
Default download directory for release files
.TP
.B ~/.local/share/myscripts/latest-releases/backups/
Configuration backup directory
.TP
.B ~/.local/log/latest-releases/
Log file directory
.TP
.B ~/.local/tmp/system_scripts/latest-releases/
Temporary files directory (extraction, downloads)
.TP
.B ~/.cache/latest-releases/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B LATEST_RELEASE_GITHUB_TOKEN
GitHub API token for authentication (avoids rate limiting)
.TP
.B LATEST_RELEASE_GITEA_DOMAIN
Domain for Gitea instance (e.g., gitea.com)
.TP
.B LATEST_RELEASE_GITLAB_DOMAIN
Domain for GitLab instance (default: https://gitlab.com)
.TP
.B LATEST_RELEASES_BIN_DIR_USER
User binary installation directory (default: ~/.local/bin)
.TP
.B LATEST_RELEASES_BIN_DIR_SYSTEM
System binary installation directory (default: /usr/local/bin)
.TP
.B LATEST_RELEASE_DOWNLOADS
Download directory for release archives
.TP
.B LATEST_RELEASE_REPO_LIST
Path to repository tracking file
.TP
.B LATEST_RELEASE_INSTALL_DIR
Override installation directory
.TP
.B LATEST_RELEASE_DEFAULT_ARCH
Override architecture detection (x86_64, aarch64, arm)
.TP
.B LATEST_RELEASE_INSTALL_TO_SYSTEM_BIN
Install to system directory ("yes" requires sudo)
.TP
.B LATEST_RELEASE_GITHUB_AUTH_FILE
Path to GitHub token file
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/latest-releases/settings.conf supports the following settings:
.PP
.RS 4
.EX
# Installation directories
LATEST_RELEASES_BIN_DIR_USER="$HOME/.local/bin"
LATEST_RELEASES_BIN_DIR_SYSTEM="/usr/local/bin"

# Download settings
LATEST_RELEASE_DOWNLOADS="$HOME/Downloads/Latest"
LATEST_RELEASE_REPO_LIST="$HOME/.config/myscripts/latest-releases/repos.conf"

# Domain settings
LATEST_RELEASE_GITEA_DOMAIN=""
LATEST_RELEASE_GITLAB_DOMAIN="https://gitlab.com"

# Installation settings
LATEST_RELEASE_DEFAULT_ARCH=""
LATEST_RELEASE_INSTALL_TO_SYSTEM_BIN="no"
LATEST_RELEASE_GITHUB_AUTH_FILE="$HOME/.config/myscripts/latest-releases/auth.conf"

# Notification settings
LATEST_RELEASES_NOTIFY_ENABLED="yes"
LATEST_RELEASES_GOOD_NAME="Installation Complete"
LATEST_RELEASES_ERROR_NAME="Installation Failed"

# Output colorization
LATEST_RELEASES_OUTPUT_COLOR_1="33"
LATEST_RELEASES_OUTPUT_COLOR_2="5"
LATEST_RELEASES_OUTPUT_COLOR_GOOD="2"
LATEST_RELEASES_OUTPUT_COLOR_ERROR="1"
.EE
.RE
.SH EXIT STATUS
.TP
.B 0
Success - operation completed successfully
.TP
.B 1
Error - general error or operation failed
.TP
.B 3
Error - required command not found
.TP
.B 4
Error - no internet connection
.SH NOTES
.IP \(bu 2
Internet connection required for GitHub/GitLab/Gitea access
.IP \(bu 2
Requires curl for HTTP requests
.IP \(bu 2
Requires jq for JSON parsing
.IP \(bu 2
Architecture auto-detected from system
.IP \(bu 2
GitHub rate limit: 60 req/hour unauth, 5000 req/hour with token
.IP \(bu 2
Installation to ~/.local/bin requires ~/.local/bin in PATH
.IP \(bu 2
Installation to /usr/local/bin requires sudo
.IP \(bu 2
Supports tar.gz, tar.bz2, tar.xz, zip archives
.IP \(bu 2
Searches for executable files in archives
.IP \(bu 2
Desktop notifications on completion
.IP \(bu 2
Repository tracking for batch updates
.SH TIPS
.SS Initial Setup
.RS
.EX
# Generate configuration
latest-releases --config

# Add GitHub token for higher rate limit
echo "ghp_xxxxxxxxxxxx" > ~/.config/myscripts/latest-releases/auth.conf

# Ensure ~/.local/bin is in PATH
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
.EE
.RE
.SS Popular Tools
.RS
.EX
# Development tools
latest-releases add "sharkdp/bat:bat:Cat with syntax highlighting"
latest-releases add "sharkdp/fd:fd:Fast file finder"
latest-releases add "BurntSushi/ripgrep:rg:Fast grep"
latest-releases add "ogham/exa:exa:Modern ls"
latest-releases add "casey/just:just:Command runner"

# Install all tracked
latest-releases update
.EE
.RE
.SS Custom Installation
.RS
.EX
# Install to custom directory
LATEST_RELEASE_INSTALL_DIR=~/bin latest-releases install user/repo

# Install with custom binary name
latest-releases install user/repo --binname custom

# Filter by specific filename
latest-releases --filename ".*musl.*" install user/repo
.EE
.RE
.SS Automation
.RS
.EX
# Cron job to update all tools weekly
0 2 * * 0 latest-releases update

# Script to install multiple tools
#!/bin/bash
tools=(
  "sharkdp/bat:bat"
  "sharkdp/fd:fd"
  "BurntSushi/ripgrep:rg"
)

for tool in "${tools[@]}"; do
  latest-releases install "${tool%:*}" --binname "${tool#*:}"
done
.EE
.RE
.SH USE CASES
.SS Development Environment Setup
.RS
.IP \(bu 2
Install CLI development tools from GitHub
.IP \(bu 2
Keep tools up-to-date with batch updates
.IP \(bu 2
Consistent tooling across machines
.IP \(bu 2
Automated environment provisioning
.RE
.SS CI/CD Integration
.RS
.IP \(bu 2
Install build tools in CI pipelines
.IP \(bu 2
Pin specific tool versions
.IP \(bu 2
Cache installations for faster builds
.IP \(bu 2
Automated tool management
.RE
.SS Personal Productivity
.RS
.IP \(bu 2
Manage personal CLI tools
.IP \(bu 2
Try new tools easily
.IP \(bu 2
Keep utilities current
.IP \(bu 2
Share tool lists with teams
.RE
.SS System Administration
.RS
.IP \(bu 2
Deploy tools to multiple servers
.IP \(bu 2
Maintain consistent tooling
.IP \(bu 2
Update utilities efficiently
.IP \(bu 2
Track installed tools
.RE
.SH TROUBLESHOOTING
.SS GitHub Rate Limit
.RS
If error: "API rate limit exceeded"
.IP \(bu 2
Configure GitHub token: echo "TOKEN" > ~/.config/myscripts/latest-releases/auth.conf
.IP \(bu 2
Get token from: https://github.com/settings/tokens
.IP \(bu 2
No special scopes needed for public repos
.IP \(bu 2
Increases limit from 60 to 5000 requests/hour
.RE
.SS Binary Not Found
.RS
If error: "No binary found in archive"
.IP \(bu 2
Check archive contents manually
.IP \(bu 2
Use --binname to specify executable name
.IP \(bu 2
Some releases don't include binaries
.IP \(bu 2
Verify correct architecture downloaded
.RE
.SS Architecture Mismatch
.RS
If downloaded binary doesn't work:
.IP \(bu 2
Check system architecture: uname -m
.IP \(bu 2
Override with: LATEST_RELEASE_DEFAULT_ARCH=x86_64
.IP \(bu 2
Use --filename to specify exact file
.IP \(bu 2
Some repos don't provide all architectures
.RE
.SS Permission Denied
.RS
If error: "Permission denied" during installation
.IP \(bu 2
Check ~/.local/bin directory exists and is writable
.IP \(bu 2
For system install, ensure sudo access
.IP \(bu 2
Verify PATH includes ~/.local/bin
.IP \(bu 2
Check file permissions in target directory
.RE
.SS jq Not Found
.RS
.IP \(bu 2
Install jq package: pkmgr install jq
.IP \(bu 2
Or: apt-get install jq (Debian/Ubuntu)
.IP \(bu 2
Or: yum install jq (RHEL/CentOS)
.IP \(bu 2
Or: brew install jq (macOS)
.RE
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
curl - HTTP client for downloads and API requests
.IP \(bu 2
jq - JSON processor for API response parsing
.IP \(bu 2
tar - Extract tar.gz, tar.bz2, tar.xz archives
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
unzip - Extract zip archives
.IP \(bu 2
file - Binary type detection
.IP \(bu 2
notifications - Desktop notification system
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \\(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR curl (1),
.BR jq (1),
.BR tar (1),
.BR unzip (1)
.PP
GitHub API Documentation:
.br
https://docs.github.com/en/rest
.PP
GitHub Personal Access Tokens:
.br
https://github.com/settings/tokens
