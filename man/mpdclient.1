.TH MPDCLIENT "1" "December 2025" "mpdclient 202208131023-git" "User Commands"
.SH NAME
mpdclient \- Interactive MPD (Music Player Daemon) control script
.SH SYNOPSIS
.B mpdclient
[\fI\,OPTIONS\/\fR]
.SH DESCRIPTION
.B mpdclient
is an interactive script for controlling a remote or local MPD (Music Player Daemon) server. It provides a menu-driven interface for common music playback operations including play, pause, stop, next, previous, volume control, and database updates.
.PP
The script automatically detects and connects to MPD servers, supports remote server connections, and integrates with notification services for real-time playback status. It can also launch ncmpcpp for a full-featured MPD client interface.
.PP
mpdclient is designed for users who want quick command-line access to MPD controls without memorizing mpc commands.
.SH OPTIONS
.TP
.BR \-h " " \fI\,HOST\/\fR
Set the MPD server hostname or IP address (default: localhost)
.TP
.BR \-p " " \fI\,PORT\/\fR
Set the MPD server port number (default: 6600)
.TP
.BR \-\-help
Display help message with usage information and available options
.TP
.BR \-\-config
Generate or regenerate user configuration file with default settings
.TP
.BR \-\-version
Show script version information and exit
.TP
.BR \-\-options
Display all available command-line options
.TP
.BR \-\-debug
Enable debug mode with verbose output and command tracing (set -x)
.TP
.BR \-\-raw
Disable colorized output for plain text display
.TP
.BR \-\-silent
Suppress non-essential output messages and notifications
.TP
.BR \-\-term
Force launch in a new terminal window
.SH INTERACTIVE MENU
When launched, mpdclient presents an interactive menu with the following options:
.PP
.TS
tab(;);
l l.
Key;Action
_
1;Toggle desktop notifications on/off
2;Change MPD server connection
3;Start/stop local MPD daemon
0;Display detailed MPD status
/;Toggle volume mute/unmute
+;Increase volume by 5%
\-;Decrease volume by 5%
];Increase volume by 1%
[;Decrease volume by 1%
a;Toggle play/pause
b;Toggle consume mode on/off
l;Toggle repeat mode on/off
n;Play next song
p;Play previous song
r;Start playback
s;Stop playback
u;Update MPD database
x;Launch ncmpcpp client
y;Send custom mpc command
z;Quit mpdclient
.TE
.SH EXAMPLES
.TP
.B mpdclient
Launch interactive MPD client connecting to localhost:6600
.TP
.B mpdclient -h 192.168.1.100
Connect to MPD server at 192.168.1.100
.TP
.B mpdclient -h music.local -p 6600
Connect to MPD server with custom host and port
.TP
.B mpdclient --term
Launch in a new terminal window
.SH FILES
.TP
.B ~/.config/myscripts/mpdclient/settings.conf
User configuration file for mpdclient preferences
.TP
.B ~/.config/myscripts/mpdclient/backups/
Configuration backup directory
.TP
.B ~/.local/log/mpdclient/
Log file directory for error tracking
.TP
.B ~/.local/tmp/system_scripts/mpdclient/
Temporary files directory (stores playback state)
.TP
.B ~/.cache/mpdclient/
Cache directory
.SH ENVIRONMENT VARIABLES
.TP
.B MPD_HOST
Default MPD server hostname (overridden by -h option)
.TP
.B MPD_PORT
Default MPD server port (overridden by -p option)
.TP
.B MPDCLIENT_CONFIG_DIR
Override default configuration directory (~/.config/myscripts/mpdclient/)
.TP
.B MPDCLIENT_MPD_SERVER_HOST
MPD server hostname (default: localhost)
.TP
.B MPDCLIENT_MPD_SERVER_PORT
MPD server port (default: 6600)
.TP
.B MPDCLIENT_MENU_TIMEOUT
Seconds to wait before auto-refreshing menu (default: 0)
.TP
.B MPDCLIENT_OUTPUT_COLOR_1
Primary output color code for terminal display (default: 33 for yellow)
.TP
.B MPDCLIENT_NOTIFY_ENABLED
Enable/disable desktop notifications (default: yes)
.SH CONFIGURATION FILE
The configuration file located at ~/.config/myscripts/mpdclient/settings.conf supports the following settings:
.PP
.RS 4
.EX
MPDCLIENT_MPD_SERVER_HOST="localhost"
MPDCLIENT_MPD_SERVER_PORT="6600"
MPDCLIENT_MENU_TIMEOUT="0"
MPDCLIENT_OUTPUT_COLOR_1="33"
MPDCLIENT_NOTIFY_ENABLED="yes"
.EE
.RE
.SH STATUS DISPLAY
The main screen shows:
.PP
.RS
.IP \(bu 2
.B HOSTNAME
\- Connected MPD server name
.IP \(bu 2
.B Uptime
\- MPD daemon uptime
.IP \(bu 2
.B Songs
\- Total songs in database
.IP \(bu 2
.B DB Play Time
\- Total playtime of all songs
.IP \(bu 2
.B Volume
\- Current volume level or "muted"
.IP \(bu 2
.B Time
\- Current playback position and duration
.IP \(bu 2
.B Playing/Paused/Stopped
\- Current playback state
.IP \(bu 2
.B Next
\- Next song in queue
.RE
.SH NOTIFICATION INTEGRATION
mpdclient integrates with notification services:
.PP
.RS
.IP \(bu 2
.B mpd-notify
\- Dedicated MPD notification daemon
.IP \(bu 2
.B notify-daemon
\- Generic notification daemon
.IP \(bu 2
.B local
\- Built-in notifications (fallback)
.RE
.PP
Notifications display song changes, volume adjustments, and server status.
.SH SERVER CONNECTION
.SS Automatic Server Detection
mpdclient attempts to connect in the following order:
.RS
.IP 1. 3
Command-line specified host (-h option)
.IP 2. 3
Configuration file host (MPDCLIENT_MPD_SERVER_HOST)
.IP 3. 3
Local MPD daemon on localhost
.IP 4. 3
Prompts to start local MPD if available
.RE
.SS Changing Servers
Use menu option "2" to change servers:
.RS
.IP \(bu 2
Enter hostname or IP address
.IP \(bu 2
Type "local" for localhost
.IP \(bu 2
Type "reset" to return to original server
.RE
.SH EXIT STATUS
.TP
.B 0
Success - exited normally
.TP
.B 1
General error or connection failed
.TP
.B 3
Required command (mpc) not found
.SH NOTES
.IP \(bu 2
Requires mpc command for MPD communication
.IP \(bu 2
Can start local MPD daemon if not running
.IP \(bu 2
Volume changes are persistent across restarts
.IP \(bu 2
ncmpcpp required for full client launch (option x)
.IP \(bu 2
Opens in terminal if not running in one
.IP \(bu 2
Menu auto-refreshes to show current status
.IP \(bu 2
Consume mode removes songs from queue after playing
.IP \(bu 2
Repeat mode loops the playlist
.SH DEPENDENCIES
.TP
.B Required:
.RS
.IP \(bu 2
bash - Bash shell for script execution
.IP \(bu 2
mpc - MPD command-line client
.IP \(bu 2
curl - For server connectivity testing
.RE
.TP
.B Optional:
.RS
.IP \(bu 2
mpd - Local MPD server daemon
.IP \(bu 2
ncmpcpp - Full-featured MPD client
.IP \(bu 2
mpd-notify - MPD notification daemon
.IP \(bu 2
notify-daemon - Generic notification daemon
.RE
.SH BUGS
Report bugs at: https://github.com/casjay-dotfiles/scripts/issues
.SH AUTHOR
Written by Jason Hempstead (CasjaysDev)
.SH COPYRIGHT
Copyright \(co 2022 Jason Hempstead, Casjays Developments
.br
License: WTFPL (Do What The F*** You Want To Public License)
.SH SEE ALSO
.BR mpc (1),
.BR mpd (1),
.BR ncmpcpp (1),
.BR mpd-notify (1)
.PP
MPD Website: https://www.musicpd.org/
.PP
MPD Protocol: https://www.musicpd.org/doc/html/protocol.html
.PP
ncmpcpp: https://rybczak.net/ncmpcpp/
