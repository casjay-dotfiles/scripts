.\" Manpage for screen-new
.TH screen-new 1 "06 February 2026" "screen-new 202602061936-git" "screen-new"

.SH NAME
screen-new \- manage persistent screen sessions for commands

.SH DESCRIPTION
screen-new creates and manages GNU Screen sessions for commands.
If a session for a command already exists, it reattaches (shared).
If not, it creates a new session running the command.

Sessions use PREFIX (default: Ctrl+n) instead of the default Ctrl+A.
Keybindings are tmux-compatible.
Per-session configuration files are stored in
.I ~/.config/myscripts/screen-new/sessions/
and can be customized individually.
.PP
Shell aliases and functions are supported. If the command is an alias or
function rather than a binary in PATH, screen-new launches it via
.B $SHELL -lic
so that the user's shell profile is sourced and the alias/function is available.
.PP
If a command name conflicts with a built-in subcommand (e.g.,
.BR ls ", " kill ", " edit ", " list ", " d ", " detach ),
use the
.B a
subcommand explicitly:
.B screen-new a <cmd>.

.SH SYNOPSIS
.B screen-new
.br
.B screen-new
.RI [ directory ]
.br
.B screen-new
.RI [ command ]
.RI [ args ]
.br
.B screen-new
.BR a | attach
.RI [ command ]
.RI [ args ]
.br
.B screen-new
.BR ls | list
.br
.B screen-new
.B kill
.RI [ name | all ]
.br
.B screen-new
.BR d | detach
.RI [ name ]
.br
.B screen-new
.B edit
.RI [ name ]

.SH COMMANDS
.TP
.B (no arguments) | . | <directory>
Launch a login shell ($SHELL -l) in a screen session. If a directory is given,
the shell starts in that directory. If a shell session already exists, reattaches to it.
.TP
.B <cmd> [args]
Shorthand: if the first argument is not a known subcommand or directory, it is treated as a
command to launch or attach to. Equivalent to using
.B a <cmd> [args].
.TP
.B a|attach [cmd] [args]
Create a new screen session running <cmd>, or attach to an existing one.
If no command is given, uses the current directory basename as session name
(same as running screen-new with no arguments).
All additional arguments are passed to the command.
.TP
.B ls|list
List all active screen-new sessions.
.TP
.B kill [name|all]
Kill a specific session by command name, kill all sessions, or list sessions if no argument given.
.TP
.B d|detach [name]
Detach a specific session by command name, or list sessions if no argument given.
.TP
.B edit [name]
Open the session config for <name> in $EDITOR. If no name given, open the main settings.conf.
Creates the session config if it does not yet exist.

.SH KEY BINDINGS
Keybindings are tmux-compatible. PREFIX defaults to Ctrl+n.
.SS Window Management
.TP
.B PREFIX t
Create a new window (login shell).
.TP
.B PREFIX c
Create a new window (login shell, classic binding).
.TP
.B PREFIX n
Next window.
.TP
.B PREFIX p
Previous window.
.TP
.B PREFIX ,
Rename current window.
.TP
.B PREFIX w
Interactive window list.
.TP
.B PREFIX @
Kill current window.
.TP
.B Shift+Left / Shift+Right
Previous / next window (no prefix needed).
.SS Split / Layout
.TP
.B PREFIX \e
Split vertically (side by side).
.TP
.B PREFIX /
Split horizontally (top/bottom).
.TP
.B PREFIX Tab
Move focus between split regions.
.TP
.B PREFIX x
Remove current region.
.TP
.B PREFIX Q
Remove all regions except current.
.TP
.B PREFIX h/j/k/l
Resize current region.
.SS Session / Misc
.TP
.B PREFIX d
Detach from the session.
.TP
.B PREFIX PREFIX
Send a literal prefix key to the application.
.TP
.B PREFIX ?
Show full keybinding reference.

.SH ZOMBIE MODE
When a process inside a screen window exits, the window stays open.
Press
.B k
to kill the window or
.B r
to restart the process.
This allows you to see output or errors before the window disappears.

.SH OPTIONS
.TP
.B \-\-help
Display the full help.
.TP
.B \-\-version
Display current version.
.TP
.B \-\-config
Create user settings file.
.TP
.B \-\-reset
Reset config file to defaults.
.TP
.B \-\-options
Show all available options.
.TP
.B \-\-dir
Change current directory.
.TP
.B \-\-debug
Output debugging information.
.TP
.B \-\-raw
Removes all formatting.
.TP
.B \-\-silent
Suppress informational output.
.TP
.B \-\-force
Force the operation.

.SH EXAMPLES
.TP
.B screen-new
Launch a login shell in a screen session, or attach if already running.
.TP
.B screen-new .
Launch a login shell in the current directory.
.TP
.B screen-new /tmp
Launch a login shell in /tmp.
.TP
.B screen-new htop
Launch htop in a screen session, or attach if already running.
.TP
.B screen-new htop \-d 5
Launch htop with a 5-second delay argument.
.TP
.B screen-new ls
List all active screen-new sessions.
.TP
.B screen-new kill htop
Kill the htop session.
.TP
.B screen-new kill all
Kill all screen-new sessions.
.TP
.B screen-new d htop
Detach the htop session remotely.
.TP
.B screen-new edit htop
Edit the htop session's screen configuration.
.TP
.B screen-new edit
Edit the main settings.conf.

.SH FILES
.TP
.I ~/.config/myscripts/screen-new/settings.conf
User configuration file.
.TP
.I ~/.config/myscripts/screen-new/sessions/sn-<name>.conf
Per-session screen configuration files.
.TP
.I ~/.config/myscripts/screen-new/keybindings.txt
Key bindings reference file (shown with PREFIX ? inside a session).

.SH TODO
Better documentation

.SH LICENSE
WTFPL

.SH BUGS
No known bugs.

.SH REPORTING BUGS
https://github.com/casjay-dotfiles/issues

.SH SEE ALSO
.BR screen (1)

.SH AUTHOR
Currently maintained by Jason Hempstead <jason@casjaysdev.pro>
